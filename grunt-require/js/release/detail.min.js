/* build date: 2016-05-03T17:49:09+0800 */  define("ajax",["globalConfig"],function(e){var t={zh_CN:{100:"未知错误",101:"被请求的页面需要用户名和密码",102:"请求未完成,服务器遇到不可预知的情况"},en_US:{100:"Unknown error",101:"The requested page needs a username and password",102:"The request was not completed, the server encounters unpredictable circumstances"}},n=t[e.context.lang||"zh_CN"],r={cache:!0,data:{},timeout:6e4,dataType:"json",type:"POST",traditional:!1};return{invoke:function(e){var t=this,n=$.extend({},r,e||{}),i=$.ajax({url:n.url,contentType:n.contentType,type:n.type,cache:n.cache,data:n.data,timeout:n.timeout,dataType:n.dataType,beforeSend:n.beforeSend,complete:n.complete,traditional:n.traditional,success:function(e){t.success(n,e)},error:function(e){t.error(n,e)}});return i},success:function(e,t){var r=this,t=t||{};t.success||t.IsSuccess?typeof e.success=="function"&&e.success.apply(r,[t]):r.failed(e,t.msg||t.ErrorMessage||n[100])},error:function(e,t){var r=this,i=t.status+", "+t.statusText;switch(t.status){case 0:break;case 401:alert(n[101]),location.href=location.href;break;case 500:alert(n[102]);break;default:typeof e.failed=="function"&&e.failed.apply(r,[{reason:i}])}},failed:function(e,t){var n=this;typeof e.failed=="function"&&e.failed.apply(n,[{reason:t}])}}});var Mustache;(function(e){typeof module!="undefined"&&module.exports?module.exports=e:typeof define=="function"?define("mustache",e):Mustache=e})(function(){function u(e,t){return RegExp.prototype.test.call(e,t)}function a(e){return!u(r,e)}function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(e){return String(e).replace(/[&<>"'\/]/g,function(e){return c[e]})}function p(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.parent=t,this.clearCache()}function v(){this.clearCache()}function m(e){var t=e[3],n=t,r;while((r=e[4])&&r.length)e=r[r.length-1],n=e[3];return[t,n]}function g(e){function n(e,n,r){if(!t[e]){var i=g(n);t[e]=function(e,t){return i(e,t,r)}}return t[e]}var t={};return function(t,r,i){var s="",o,u;for(var a=0,f=e.length;a<f;++a){o=e[a];switch(o[0]){case"#":u=i.slice.apply(i,m(o)),s+=t._section(o[1],r,u,n(a,o[4],i));break;case"^":s+=t._inverted(o[1],r,n(a,o[4],i));break;case">":s+=t._partial(o[1],r);break;case"&":s+=t._name(o[1],r);break;case"name":s+=t._escaped(o[1],r);break;case"text":s+=o[1]}}return s}}function y(e){var t=[],n=t,r=[],i,s;for(var o=0;o<e.length;++o){i=e[o];switch(i[0]){case"#":case"^":i[4]=[],r.push(i),n.push(i),n=i[4];break;case"/":if(r.length===0)throw new Error("Unopened section: "+i[1]);s=r.pop();if(s[1]!==i[1])throw new Error("Unclosed section: "+s[1]);r.length>0?n=r[r.length-1][4]:n=t;break;default:n.push(i)}}s=r.pop();if(s)throw new Error("Unclosed section: "+s[1]);return t}function b(e){var t,n;for(var r=0;r<e.length;++r)t=e[r],n&&n[0]==="text"&&t[0]==="text"?(n[1]+=t[1],n[3]=t[3],e.splice(r--,1)):n=t}function w(e){if(e.length!==2)throw new Error("Invalid tags: "+e.join(" "));return[new RegExp(l(e[0])+"\\s*"),new RegExp("\\s*"+l(e[1]))]}var e={};e.name="mustache.js",e.version="0.7.0",e.tags=["{{","}}"],e.Scanner=p,e.Context=d,e.Writer=v;var t=/\s*/,n=/\s+/,r=/\S/,i=/\s*=/,s=/\s*\}/,o=/#|\^|\/|>|\{|&|=|!/,f=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};e.escape=h,p.prototype.eos=function(){return this.tail===""},p.prototype.scan=function(e){var t=this.tail.match(e);return t&&t.index===0?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},p.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},d.make=function(e){return e instanceof d?e:new d(e)},d.prototype.clearCache=function(){this._cache={}},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var t=this._cache[e];if(!t){if(e===".")t=this.view;else{var n=this;while(n){if(e.indexOf(".")>0){var r=e.split("."),i=0;t=n.view;while(t&&i<r.length)t=t[r[i++]]}else t=n.view[e];if(t!=null)break;n=n.parent}}this._cache[e]=t}return typeof t=="function"&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this._cache={},this._partialCache={}},v.prototype.compile=function(t,n){var r=this._cache[t];if(!r){var i=e.parse(t,n);r=this._cache[t]=this.compileTokens(i,t)}return r},v.prototype.compilePartial=function(e,t,n){var r=this.compile(t,n);return this._partialCache[e]=r,r},v.prototype.compileTokens=function(e,t){var n=g(e),r=this;return function(e,i){if(i)if(typeof i=="function")r._loadPartial=i;else for(var s in i)r.compilePartial(s,i[s]);return n(r,d.make(e),t)}},v.prototype.render=function(e,t,n){return this.compile(e)(t,n)},v.prototype._section=function(e,t,n,r){var i=t.lookup(e);switch(typeof i){case"object":if(f(i)){var s="";for(var o=0,u=i.length;o<u;++o)s+=r(this,t.push(i[o]));return s}return i?r(this,t.push(i)):"";case"function":var a=this,l=function(e){return a.render(e,t)};return i.call(t.view,n,l)||"";default:if(i)return r(this,t)}return""},v.prototype._inverted=function(e,t,n){var r=t.lookup(e);return!r||f(r)&&r.length===0?n(this,t):""},v.prototype._partial=function(e,t){!(e in this._partialCache)&&this._loadPartial&&this.compilePartial(e,this._loadPartial(e));var n=this._partialCache[e];return n?n(t):""},v.prototype._name=function(e,t){var n=t.lookup(e);return typeof n=="function"&&(n=n.call(t.view)),n==null?"":String(n)},v.prototype._escaped=function(t,n){return e.escape(this._name(t,n))},e.parse=function(r,u){function g(){if(v&&!m)while(d.length)h.splice(d.pop(),1);else d=[];v=!1,m=!1}u=u||e.tags;var f=w(u),c=new p(r),h=[],d=[],v=!1,m=!1,E,S,x,T;while(!c.eos()){E=c.pos,x=c.scanUntil(f[0]);if(x)for(var N=0,C=x.length;N<C;++N)T=x.charAt(N),a(T)?d.push(h.length):m=!0,h.push(["text",T,E,E+1]),E+=1,T==="\n"&&g();E=c.pos;if(!c.scan(f[0]))break;v=!0,S=c.scan(o)||"name",c.scan(t);if(S==="=")x=c.scanUntil(i),c.scan(i),c.scanUntil(f[1]);else if(S==="{"){var k=new RegExp("\\s*"+l("}"+u[1]));x=c.scanUntil(k),c.scan(s),c.scanUntil(f[1]),S="&"}else x=c.scanUntil(f[1]);if(!c.scan(f[1]))throw new Error("Unclosed tag at "+c.pos);h.push([S,x,E,c.pos]);if(S==="name"||S==="{"||S==="&")m=!0;S==="="&&(u=x.split(n),f=w(u))}return b(h),y(h)};var E=new v;return e.clearCache=function(){return E.clearCache()},e.compile=function(e,t){return E.compile(e,t)},e.compilePartial=function(e,t,n){return E.compilePartial(e,t,n)},e.compileTokens=function(e,t){return E.compileTokens(e,t)},e.render=function(e,t,n){return E.render(e,t,n)},e.to_html=function(t,n,r,i){var s=e.render(t,n,r);if(typeof i!="function")return s;i(s)},e}());var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json2",function(){}),define("track",["globalConfig","jquery","json2"],function(e){var t={homePage:"首页",header:"页头",group:"分组页面",thumbnails:"缩略图页面",legendData:"左图右数据页面",partdetail:"详情页面",vsn:"vsn查询",vin:"vin查询",part:"零件编号查询窗口",legend:"图例编号查询窗口",advance:"高级查询窗口",info:"信息检索窗口","option-info":"选装信息窗口","bodystyle-info":"车身类型信息窗口","model-info":"车型窗口",usernote:"用户备注查询页面",supersession:"替换查询窗口","buy-layout":"购买窗口","shopping-cart":"购物车窗口","order-list":"订单列表页面","build-order-page":"生成订单页面","book-mark":"书签管理窗口","add-book-mark":"添加书签窗口",history:"历史管理窗口",message:"通知页面",bulletin:"通讯页面"},n={search:"搜索",expand:"展开",collapse:"收缩",add:"添加",view:"查看",paging:"翻页","delete":"删除",create:"生成",open:"弹出","export":"导出","import":"导入",print:"打印",prev:"向上",next:"向下",zoomin:"放大",zoomout:"缩小",rotate:"旋转",reset:"还原",link:"跳转",submit:"提交",copy:"复制",save:"保存"},r={drag:"拖拽",click:"点击",enter:"回车",mouseenter:"鼠标移入"},i=window.location,s=e.context.trackUrl,o=e.context.trackEnabled,u=e.context.appcode,a=e.context.usercode,f=e.context.lang,l=i.pathname+"/"+(typeof i.search=="undefined"?"":i.search),c={init:function(){var e=this;e.initEvents()},initEvents:function(){var e=this;$("a[data-track]").on("click",function(){var t=$(this).attr("data-track"),n=$(this).attr("href"),t=JSON.parse(t);e.publish(t.category,t.target,"click","link",n)})},publish:function(e,i,c,h,p){var d=this;$.type(p)=="object"&&(p=JSON.stringify(p));var v={ul:l,cag:t[e],tg:i,evt:r[c],act:n[h],val:p,lg:f,ac:u,uc:a};Boolean(o)&&$.ajax({url:s,dataType:"jsonp",jsonp:"_cb",jsonpCallback:"_scb",data:v})}};return c.init(),{publish:function(e,t,n,r,i){c.publish(e,t,n,r,i)}}}),function(){"use strict";function e(e){function a(i,a){var l,h,m=i==window,g=a&&a.message!==undefined?a.message:undefined;a=e.extend({},e.blockUI.defaults,a||{});if(a.ignoreIfBlocked&&e(i).data("blockUI.isBlocked"))return;a.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,a.overlayCSS||{}),l=e.extend({},e.blockUI.defaults.css,a.css||{}),a.onOverlayClick&&(a.overlayCSS.cursor="pointer"),h=e.extend({},e.blockUI.defaults.themedCSS,a.themedCSS||{}),g=g===undefined?a.message:g,m&&o&&f(window,{fadeOut:0});if(g&&typeof g!="string"&&(g.parentNode||g.jquery)){var y=g.jquery?g[0]:g,b={};e(i).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}e(i).data("blockUI.onUnblock",a.onUnblock);var w=a.baseZ,E,S,x,T;n||a.forceIframe?E=e('<iframe class="blockUI" style="z-index:'+w++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+a.iframeSrc+'"></iframe>'):E=e('<div class="blockUI" style="display:none"></div>'),a.theme?S=e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+w++ +';display:none"></div>'):S=e('<div class="blockUI blockOverlay" style="z-index:'+w++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),a.theme&&m?(T='<div class="blockUI '+a.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:fixed">',a.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):a.theme?(T='<div class="blockUI '+a.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:absolute">',a.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):m?T='<div class="blockUI '+a.blockMsgClass+' blockPage" style="z-index:'+(w+10)+';display:none;position:fixed"></div>':T='<div class="blockUI '+a.blockMsgClass+' blockElement" style="z-index:'+(w+10)+';display:none;position:absolute"></div>',x=e(T),g&&(a.theme?(x.css(h),x.addClass("ui-widget-content")):x.css(l)),a.theme||S.css(a.overlayCSS),S.css("position",m?"fixed":"absolute"),(n||a.forceIframe)&&E.css("opacity",0);var N=[E,S,x],C=m?e("body"):e(i);e.each(N,function(){this.appendTo(C)}),a.theme&&a.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var k=s&&(!e.support.boxModel||e("object,embed",m?null:i).length>0);if(r||k){m&&a.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%");if((r||!e.support.boxModel)&&!m)var L=v(i,"borderTopWidth"),A=v(i,"borderLeftWidth"),O=L?"(0 - "+L+")":0,M=A?"(0 - "+A+")":0;e.each(N,function(e,t){var n=t[0].style;n.position="absolute";if(e<2)m?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+a.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),M&&n.setExpression("left",M),O&&n.setExpression("top",O);else if(a.centerY)m&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!a.centerY&&m){var r=a.css&&a.css.top?parseInt(a.css.top,10):0,i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"';n.setExpression("top",i)}})}g&&(a.theme?x.find(".ui-widget-content").append(g):x.append(g),(g.jquery||g.nodeType)&&e(g).show()),(n||a.forceIframe)&&a.showOverlay&&E.show();if(a.fadeIn){var _=a.onBlock?a.onBlock:t,D=a.showOverlay&&!g?_:t,P=g?_:t;a.showOverlay&&S._fadeIn(a.fadeIn,D),g&&x._fadeIn(a.fadeIn,P)}else a.showOverlay&&S.show(),g&&x.show(),a.onBlock&&a.onBlock();c(1,i,a),m?(o=x[0],u=e(a.focusableElements,o),a.focusInput&&setTimeout(p,20)):d(x[0],a.centerX,a.centerY);if(a.timeout){var H=setTimeout(function(){m?e.unblockUI(a):e(i).unblock(a)},a.timeout);e(i).data("blockUI.timeout",H)}}function f(t,n){var r,i=t==window,s=e(t),a=s.data("blockUI.history"),f=s.data("blockUI.timeout");f&&(clearTimeout(f),s.removeData("blockUI.timeout")),n=e.extend({},e.blockUI.defaults,n||{}),c(0,t,n),n.onUnblock===null&&(n.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock"));var h;i?h=e("body").children().filter(".blockUI").add("body > .blockUI"):h=s.find(">.blockUI"),n.cursorReset&&(h.length>1&&(h[1].style.cursor=n.cursorReset),h.length>2&&(h[2].style.cursor=n.cursorReset)),i&&(o=u=null),n.fadeOut?(r=h.length,h.stop().fadeOut(n.fadeOut,function(){--r===0&&l(h,a,n,t)})):l(h,a,n,t)}function l(t,n,r,i){var s=e(i);if(s.data("blockUI.isBlocked"))return;t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.parent&&n.parent.appendChild(n.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),typeof r.onUnblock=="function"&&r.onUnblock(i,r);var o=e(document.body),u=o.width(),a=o[0].style.width;o.width(u-1).width(u),o[0].style.width=a}function c(t,n,r){var i=n==window,s=e(n);if(!t&&(i&&!o||!i&&!s.data("blockUI.isBlocked")))return;s.data("blockUI.isBlocked",t);if(!i||!r.bindEvents||t&&!r.showOverlay)return;var u="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(u,r,h):e(document).unbind(u,h)}function h(t){if(t.type==="keydown"&&t.keyCode&&t.keyCode==9&&o&&t.data.constrainTabKey){var n=u,r=!t.shiftKey&&t.target===n[n.length-1],i=t.shiftKey&&t.target===n[0];if(r||i)return setTimeout(function(){p(i)},10),!1}var s=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(t),a.parents("div."+s.blockMsgClass).length>0?!0:a.parents().children().filter("div.blockUI").length===0}function p(e){if(!u)return;var t=u[e===!0?u.length-1:0];t&&t.focus()}function d(e,t,n){var r=e.parentNode,i=e.style,s=(r.offsetWidth-e.offsetWidth)/2-v(r,"borderLeftWidth"),o=(r.offsetHeight-e.offsetHeight)/2-v(r,"borderTopWidth");t&&(i.left=s>0?s+"px":"0"),n&&(i.top=o>0?o+"px":"0")}function v(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){},n=/MSIE/.test(navigator.userAgent),r=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),i=document.documentMode||0,s=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){a(window,e)},e.unblockUI=function(e){f(window,e)},e.growlUI=function(t,n,r,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),n&&s.append("<h2>"+n+"</h2>"),r===undefined&&(r=3e3);var o=function(t){t=t||{},e.blockUI({message:s,fadeIn:typeof t.fadeIn!="undefined"?t.fadeIn:700,fadeOut:typeof t.fadeOut!="undefined"?t.fadeOut:1e3,timeout:typeof t.timeout!="undefined"?t.timeout:r,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};o();var u=s.css("opacity");s.mouseover(function(){o({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var n=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var t=e(this);if(n.ignoreIfBlocked&&t.data("blockUI.isBlocked"))return;t.unblock({fadeOut:0})}),this.each(function(){e.css(this,"position")=="static"&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,a(this,t)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){f(this,t)})},e.blockUI.version=2.66,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.2,cursor:"default"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var o=null,u=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define("blockUI",["jquery"],e):e(jQuery)}(),define("remark",["globalConfig","ajax","mustache","track","blockUI"],function(e,t,n,r){var i=e.actions.remarkLoadUrl,s=e.actions.remarkAddUrl,o=e.trans,u=e.actions.remarkEditUrl,a=function(){this.init()};return a.prototype={init:function(){var e=this;e.bindDomEls(),e.bindTempalte(),e.bindEvent()},bindDomEls:function(){var e=this;e.$add=$("#add-remark"),e.$grid=$("#remark-grid"),e.$dialog=$("#remark-edit"),e.$operation=$("#remark-operation")},bindTempalte:function(){var e=this;e.gridTemplate=e.$grid.find("script").html()},bindEvent:function(){var e=this,t;e.$add.click(function(){e.open()}),e.$operation.on("click","a",function(t){e.operationClicked(t)}),e.$grid.on("click","a[data-action]",function(t){e.gridClicked(t)})},operationClicked:function(e){var t=this,n=$(e.target).attr("data-action");n==="save"?t.save():n==="cancel"&&(t.close(),t.clear())},gridClicked:function(e){var t=this,n=$(e.target).attr("data-action");n==="edit"&&(t.renderEdit(e),t.open())},load:function(){var e=this,n={PartNumber:$.getParameterByName("partNumber")};t.invoke({url:i,data:n,success:function(t){e.buildData(t.Data)},failed:function(e){alert(e.errorMessage)}})},save:function(){var e=this,n=e.getParams();t.invoke({url:s,data:n,success:function(t){alert(o[162]),e.close(),e.load(),r.publish("partdetail","添加备注","click","add",n)},failed:function(){alert(reason.errorMessage)}})},renderEdit:function(e){var t=this,n,r,i=t.$dialog.find("[data-scope='edit'][data-field]");i.each(function(t,i){n=$(i).attr("data-field"),r=$(e.target).attr("data-"+n),r&&$(i).setVal(r)})},buildData:function(e){var t=this;for(var n=0;n<e.length;n++)e[n].rowNumber=n+1;t.render(e)},render:function(e){var t=this,r=n.render(t.gridTemplate,{records:e});t.$grid.html(r)},getParams:function(){var e=this,t,n,r={},i=e.$dialog.find("[data-scope='edit'][data-field]");return i.each(function(e,i){n=$(i).attr("data-field"),t=$(i).getVal(),r[n]=t}),r},open:function(){var e=this,t=($(window).width()-e.$dialog.width())/2,n=($(window).height()-e.$dialog.height())/2;$(document).on("keyup.remark",function(t){t.keyCode===27&&e.close()}),$.blockUI({message:e.$dialog,css:{left:t,top:n,width:e.$dialog.width(),height:e.$dialog.height(),border:"none",cursor:"default",textAlign:"left"}})},close:function(){var e=this;$(document).off("keyup.remark"),$.unblockUI(),e.clear()},clear:function(){var e=this,t=e.$dialog.find("[data-scope='edit'][data-isClear!='false'][data-field]");t.each(function(e,t){$(t).clearVal()})}},a});var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{},jaaulde.utils.cookies=function(){var e,t,n,r,i={expiresAt:null,path:"/",domain:null,secure:!1};return e=function(e){var t,n;return typeof e!="object"||e===null?t=i:(t={expiresAt:i.expiresAt,path:i.path,domain:i.domain,secure:i.secure},typeof e.expiresAt=="object"&&e.expiresAt instanceof Date?t.expiresAt=e.expiresAt:typeof e.hoursToLive=="number"&&e.hoursToLive!==0&&(n=new Date,n.setTime(n.getTime()+e.hoursToLive*60*60*1e3),t.expiresAt=n),typeof e.path=="string"&&e.path!==""&&(t.path=e.path),typeof e.domain=="string"&&e.domain!==""&&(t.domain=e.domain),e.secure===!0&&(t.secure=e.secure)),t},t=function(t){return t=e(t),(typeof t.expiresAt=="object"&&t.expiresAt instanceof Date?"; expires="+t.expiresAt.toGMTString():"")+"; path="+t.path+(typeof t.domain=="string"?"; domain="+t.domain:"")+(t.secure===!0?"; secure":"")},n=function(){var e={},t,n,r,i,s=document.cookie.split(";"),o;for(t=0;t<s.length;t+=1){n=s[t].split("="),r=n[0].replace(/^\s*/,"").replace(/\s*$/,"");try{i=decodeURIComponent(n[1])}catch(u){i=n[1]}if(typeof JSON=="object"&&JSON!==null&&typeof JSON.parse=="function")try{o=i,i=JSON.parse(i)}catch(a){i=o}e[r]=i}return e},r=function(){},r.prototype.get=function(e){var t,r,i=n();if(typeof e=="string")t=typeof i[e]!="undefined"?i[e]:null;else if(typeof e=="object"&&e!==null){t={};for(r in e)typeof i[e[r]]!="undefined"?t[e[r]]=i[e[r]]:t[e[r]]=null}else t=i;return t},r.prototype.filter=function(e){var t,r={},i=n();typeof e=="string"&&(e=new RegExp(e));for(t in i)t.match(e)&&(r[t]=i[t]);return r},r.prototype.set=function(e,n,r){if(typeof r!="object"||r===null)r={};if(typeof n=="undefined"||n===null)n="",r.hoursToLive=-8760;else if(typeof n!="string"){if(typeof JSON!="object"||JSON===null||typeof JSON.stringify!="function")throw new Error("cookies.set() received non-string value and could not serialize.");n=JSON.stringify(n)}var i=t(r);document.cookie=e+"="+encodeURIComponent(n)+i},r.prototype.del=function(e,t){var n={},r;if(typeof t!="object"||t===null)t={};typeof e=="boolean"&&e===!0?n=this.get():typeof e=="string"&&(n[e]=!0);for(r in n)typeof r=="string"&&r!==""&&this.set(r,null,t)},r.prototype.test=function(){var e=!1,t="cT",n="data";return this.set(t,n),this.get(t)===n&&(this.del(t),e=!0),e},r.prototype.setOptions=function(t){typeof t!="object"&&(t=null),i=e(t)},new r}(),function(){window.jQuery&&function(e){e.cookies=jaaulde.utils.cookies;var t={cookify:function(t){return this.each(function(){var n,r=["name","id"],i,s=e(this),o;for(n in r)if(!isNaN(n)){i=s.attr(r[n]);if(typeof i=="string"&&i!==""){s.is(":checkbox, :radio")?s.attr("checked")&&(o=s.val()):s.is(":input")?o=s.val():o=s.html();if(typeof o!="string"||o==="")o=null;e.cookies.set(i,o,t);break}}})},cookieFill:function(){return this.each(function(){var t,n,r=["name","id"],i,s=e(this),o;n=function(){return t=r.pop(),!!t};while(n()){i=s.attr(t);if(typeof i=="string"&&i!==""){o=e.cookies.get(i),o!==null&&(s.is(":checkbox, :radio")?s.val()===o?s.attr("checked","checked"):s.removeAttr("checked"):s.is(":input")?s.val(o):s.html(o));break}}})},cookieBind:function(t){return this.each(function(){var n=e(this);n.cookieFill().change(function(){n.cookify(t)})})}};e.each(t,function(t){e.fn[t]=this})}(window.jQuery)}(),define("cookie",["jquery"],function(){}),define("uniqueLogin",["globalConfig","cookie"],function(e){var t=e.context.uniqueLoginSwitch,n=e.trans;if($.trim(t).toLowerCase()=="true")var r=function(t){if(t==0){i();var r=$.cookies.get(e.context.uniqueLoginCookieName);r&&($.cookies.del(e.context.uniqueLoginCookieName),alert(n[186])),window.location.href=e.context.loginUrl}},i=function(){s!=null&&window.clearInterval(s)},s=window.setInterval(function(){$.ajax({url:e.context.uniqueAuthUrl,type:"POST",success:function(e){r(e)},error:function(e){i()}})},e.context.uniqueLoginIntervalSeconds*1e3)}),function(e){function t(e,t){var n=e.filter("img"),r=n.length,i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";n.on("load.imgloaded",function(){--r<=0&&this.src!==i&&(n.off("load.imgloaded"),t.call(n,this))}).each(function(){if(this.complete||this.complete===undefined){var e=this.src;this.src=i,this.src=e}})}e.Loupe=function(t,n){var r=e.fn.Loupe.prototype.defaults.loupeField;e(t).find("[data-field='"+r+"']").each(function(t,r){e(r).Loupe(n)})},e.fn.Loupe=function(n){var r=this,i=function(){if(e.isFunction(r.each))return r.each(function(t,r){var i=e(r),s=i.find("[data-target='self']"),o=s.attr("src");e(r).data("Loupe")==undefined&&e(r).data("Loupe",new e.fn.Loupe),e(r).data("Loupe").move(r,s,n)})};r.jquery&&t(r.find("[data-target='self']"),i)},e.fn.Loupe.prototype.defaults={loupeField:"loupe"},e.extend(e.fn.Loupe.prototype,{move:function(n,r,i){var s=this,o=e(n);s.configs=e.extend({},e.fn.Loupe.prototype.defaults,{nativeW:0,nativeH:0,isScroll:!1,isImgmove:!1,isBackground:!1,isShowInnerImg:!1,iscursorFollow:!1,_width:o.innerWidth(),_height:o.innerHeight()},i);var u=e(s.configs.large),a=e(s.configs.fixed),f=a.find("img"),l="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",c=o.offset(),h=a.width(),p=a.height(),d,v,m,g,y,b,w,E,S,x,T=function(e){var t=e.pageX-c.left,n=e.pageY-c.top,r=t-d/2,i=n-v/2;return t<w&&(r=0),r>y&&(r=y),n<E&&(i=0),i>b&&(i=b),u.css({top:i,left:r}),{mx:t,my:n,yx:r,yy:i}};o.on({mouseenter:function(n){var i=this,l=n.pageX-c.left,N=n.pageY-c.top,C=r.attr("src").replace(/\!\w*$/,"")||r.attr("data-img"),k=new Image,L;m=g=0,e(i).css("cursor","default");if(!C)return;if(s.configs.filter)for(var A=0;A<s.configs.filter.length;A++){var O=new RegExp(s.configs.filter[A],"ig");if(O.test(C))return}L=function(e){var t=e.src;m=e.width,g=e.height,S=m/s.configs._width,x=g/s.configs._height,d=h/S,v=p/x,y=s.configs._width-d,b=s.configs._height-v,w=d/2,E=v/2,u.css({width:d,height:v}).appendTo(o),T(n),f.attr("src",t),u.add(a).show(),s.configs.isShowInnerImg&&u.css("background","url('"+t+"') no-repeat"),s.configs.isBackground&&a.css("background","url('"+t+"') no-repeat")},k.src=C,t(e(k),L),e(i).css("cursor","move")},mousemove:function(e){if(m||g)if(u.is(":visible")){var t=T(e),n=t.mx,r=t.my,i=t.yx,o=t.yy,l,c;l=i*S,c=o*x,s.configs.isScroll?a.scrollLeft(l).scrollTop(c):s.configs.isImgmove?f.css({left:-l,top:-c}):s.configs.isBackground&&a.css({backgroundPosition:l*-1+"px"+" "+c*-1+"px"});if(s.configs.isShowInnerImg){var h=n*S-d/2,p=r*x-v/2;u.css({backgroundPosition:h*-1+"px"+" "+p*-1+"px"})}s.configs.iscursorFollow&&a.css({top:e.pageY+15,left:e.pageX+35})}e.preventDefault(),e.stopPropagation()},mouseleave:function(e){u.add(a).hide(),e.preventDefault()}})}})}(jQuery),define("loupe",["jquery"],function(){}),function(e){e.fn.extend({realVal:function(){var e=(this.attr("type")||"").toUpperCase(),t=this.prop("tagName").toUpperCase();return t!=="INPUT"||e!=="CHECKBOX"&&e!=="RADIO"?this.attr("data-value")?this.attr("data-value"):this.val():this.prop("checked")},getVal:function(){var e,t=this.prop("tagName").toUpperCase();if(t==="SELECT")return this.val();if(t==="SPAN"||t==="LABEL")return this.text();if(t==="INPUT"){e=this.attr("type").toUpperCase();if(e==="TEXT"||e==="HIDDEN")return this.val();if(e==="CHECKBOX"||e==="RADIO")return this.prop("checked")}if(t==="TEXTAREA")return this.val()},setVal:function(t){var n,r=this.prop("tagName").toUpperCase();r==="SELECT"&&this.val(t),(r==="SPAN"||r==="LABEL")&&this.text(t);if(r==="INPUT"){n=this.attr("type").toUpperCase();if(n==="TEXT"||n==="HIDDEN")return this.val(t);n==="CHECKBOX"&&e.inArray(parseInt(this.val()),t)>-1&&this.attr("checked",!0)}if(r==="TEXTAREA")return this.val(t)},clearVal:function(){var e,t=this.prop("tagName").toUpperCase();t==="SELECT"&&(this.get(0).selectedIndex=0),(t==="SPAN"||t==="LABEL")&&this.text("");if(t==="INPUT"){e=this.attr("type").toUpperCase();if(e==="TEXT"||e==="HIDDEN")return this.val("");(e==="CHECKBOX"||e==="RADIO")&&this.attr("checked",!1)}if(t==="TEXTAREA")return this.val("")},building:function(t){var n=this,r,i,s={};s[t.text]="text",s[t.value]="value",n.on("change",function(){r=e(this).getVal(),i=e.mappingJSON(t.data[r]||[],s,[]),t.el.bindSelectOption(i),typeof t.changed=="function"&&t.changed.apply(this,[r])})},bindSelectOption:function(t){var n=this,r;return n.find("option").remove(),e.each(t,function(t,r){e("<option/>").appendTo(n).prop({text:r.text,value:r.value})}),n.get(0).selectedIndex=0,this},loadAppointScope:function(t){this.find("input,select,a,span,div,textarea").each(function(n,r){var i,s=e(r).attr("data-field");if(s==undefined)return;var o=r.tagName.toUpperCase();if(o=="INPUT"){i=e(r).attr("type");switch(i){case"text":e(r).val(t[s]);break;case"checkbox":e(r).attr("checked",t[s]);break;case"hidden":e(r).val(t[s]);break;default:}}else o=="SELECT"?e(r).val(t[s]):o=="A"?e(r).text(t[s]):o=="DIV"||r.tagName=="SPAN"?e(r).html(t[s]):o=="TEXTAREA"&&e(r).text(t[s])})},selectedAllAppointScope:function(){var t={};return this.find("input,select,a,span,div,textarea").each(function(n,r){var i,s=e(r).attr("data-field");if(s==undefined)return;if(r.tagName=="INPUT"){i=e(r).attr("type");switch(i){case"text":t[s]=e(r).val();break;case"checkbox":t[s]=e(r).is(":checked");break;case"hidden":t[s]=e(r).val();break;default:}}else r.tagName=="SELECT"?e(r).val().length==0?t[s]="":t[s]=e(r).val():r.tagName=="A"?t[s]=e(r).html():r.tagName=="DIV"||r.tagName=="SPAN"?t[s]=e(r).html():r.tagName=="TEXTAREA"&&(t[s]=e(r).val()||e(r).text())}),t},clearAllAppointScope:function(){this.find("input,select,a,span,div,textarea").each(function(t,n){var r,i=e(n).attr("data-field");if(i==undefined)return;if(n.tagName=="INPUT"){r=e(n).attr("type");switch(r){case"text":case"hidden":e(n).val("");break;case"checkbox":e(n).attr("checked",!1);break;default:e(n).val("")}}else n.tagName=="SELECT"?e(n).val(""):n.tagName=="DIV"?e(n).html(""):n.tagName=="SPAN"?e(n).html(""):n.tagName=="TEXTAREA"&&(e(n).text(""),e(n).val(""))})},adaptive:function(t){if(this.each)return this.each(function(n,r){var i=e(r),s=new Image,o=i.parent().width()||i.width(),u=i.parent().height()||i.height();s.src=i.attr("src"),e(s).load(function(){var n=s.width,a=s.height,f=o/n,l=u/a,c=1;if(!t.isAdaptive)return;if(o==0&&u==0)c=1;else if(o==0)l<1&&(c=l);else if(u==0)f<1&&(c=f);else if(f<1||l<1)c=f<=l?f:l;c<1&&(n*=c,a*=c),e(r).width(n||o),e(r).height(a||u);if(e(r).parent()){var h=(e(r).parent().width()-e(r).width())/2,p=(e(r).parent().height()-e(r).height())/2;e(r).css("position")=="static"?e(r).css({marginLeft:h,marginTop:p}):e(r).css({left:h,top:p})}typeof t.callback.success=="function"&&t.callback.success.apply(this,[i])}).error(function(){typeof t.callback.error=="function"&&t.callback.error.apply(this,[i])})})},initPlaceholder:function(t){var n={lfdistance:10};n=e.extend({},n,t),"placeholder"in document.createElement("input")||this.each(function(t,r){var i=e(this),s=i.attr("placeholder"),o=null,u,a;if(s){u=i.attr("id");if(!u){var f=new Date;u="lbl_placeholder"+f.getSeconds()+f.getMilliseconds(),i.attr("id",u)}a=e("<label>",{html:i.val()?"":s,"for":u,css:{position:"absolute",left:i.position().left+n.lfdistance,top:i.position().top,height:i.outerHeight(!0),lineHeight:i.outerHeight(!0)+"px",color:"#C3C3C3",cursor:"text"}}).insertAfter(i),o=function(e){i.val()?a.html(""):a.html(s)},i.on("focus blur input keyup propertychange",o),o()}})}}),e.extend({mappingJSON:function(t,n,r){for(var i=0;i<t.length;i++){var s={},o=t[i];for(var u in o){var a=n[u]||u;e.type(o[u])==="array"&&o[u].length>0?(s[a]=[],this.mappingJSON(o[u],n,s[a])):s[a]=o[u]}r.push(s)}return r},escapeSpecialChars:function(e){return e.replace(/[\\]/g,"\\\\")},isInteger:function(e){return/^[1-9]*[1-9][0-9]*$/.test(e)},isFloat:function(e,t){t=t||"1";var n="^-?\\d+(\\.\\d{1,"+t+"})$";return(new RegExp(n)).test(e)},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.search);return r==null?"":decodeURIComponent(r[1].replace(/\+/g," "))},downloadFileByUrl:function(t){var n="frameId_download_"+(new Date).getTime(),r=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",i=e('<iframe name="'+n+'" id="'+n+'" src="'+r+'" style="display:none;"></iframe>'),s='<form action="'+t+'" method="POST" target="'+n+'"></form>',o=e(s);e("body").append(i);var u=i.get(0).contentDocument||i.get(0).contentWindow.document;u.open();try{u.appendChild(o.get(0))}catch(a){s=u.createElement(s),u.appendChild(s)}u.close(),i.on("load",function(){alert("file download error"),i.remove()}),e(u).find("form").submit(),window.setTimeout(function(){i.remove()},2e3)},isExistScroll:function(t,n){var r=this,i=e("<div></div>"),s=t.outerWidth(!0)-t.find("table:first").outerWidth(!0),o=n.outerWidth(!0),u=(o-s)/o*100,a="100%",f="none";s?(a=u+"%",f="left",n.append(i.css({width:s,height:1,"float":f}))):n.find(i).remove(),n.find("table:first").css({width:a,"float":f})},redirectLink:function(t,n,r,i,s){var o=this,u=new RegExp("[?&]"+r+"=([^&]*)","i"),a=new RegExp("([?&])"+r+"=([^&]*)(&?)","i"),f=/\?/.test(t),i=i||",",l={},c="";return n==undefined?t:(c=e.type(n)=="array"?n.join(","):n,u.test(t)?t=t.replace(a,function(e,t,o,u){var a=o+i,f=t+r,l=function(){return t=="&"?u:u?"?":""};if(s){var h=c?f+"="+c+u:l();return h}if(i==","){var p=o.split(","),d=c.split(","),v="";for(var m=0;m<p.length;m++){v=p[m];for(var g=0;g<d.length;g++)v==d[g]&&p.splice(m,1)}return o=p.join(","),o?a=o+i:a="",c||c.length?f+"="+a+n+u:l()}return f+"="+n+u}):f?t=t+"&"+r+"="+c:t=t+"?"+r+"="+c,t)},moveBox:function(t){function u(t){var n;e(document).on({"mousemove.online":function(e){n=e.pageY-s,n<0&&(n=0),n>o&&(n=o),t.css("top",n)},"mouseup.online":function(){e(document).off(".online")}})}var n=e("#"+t);if(!n.size())return;var r=n.width(),i=n.height(),s=0,o=e(window).height()-i;n.on("mousedown",function(t){s=t.pageY-e(this).offset().top,u(e(this)),t.preventDefault()})},moveTips:function(t,n,r,i){function l(t,n,i){var s=e(t),o=s.position(),u=r.height()/2,a=s.offsetParent(),l=o.top-u+a.scrollTop(),c=o.left+s.width(),h=a.width(),p=r.outerWidth(!0);i&&i.isTitle?(l=l+s.height()+u,c=c-s.width()+50,f.hide(),r.addClass("move-tip-append")):(l+=s.height()/2,r.removeClass("move-tip-append"),f.show()),h-c<p&&(c=h-p),p>h&&r.width(h-50),r.animate({left:c,top:l},function(){i&&i.callback&&i.callback.afterStopMove&&i.callback.afterStopMove.apply(null,[s])}).show()}var s=null,o=null,u=0,a,f=r.find(".tip-arrow");t.on("mouseenter mouseleave",n,function(t){var n=t.type,u=this,a=t;e(u).removeProp("title").removeAttr("title"),n==="mouseenter"?(window.clearTimeout(o),e(u).append(r),s=window.setTimeout(function(){var t=e(u).attr("data-content");if(!t){window.clearTimeout(s),r.hide();return}r.find("[data-field='content']").html(t),l(u,a,i)},500)):(window.clearTimeout(s),o=window.setTimeout(function(){r.hide()},800)),t.stopPropagation()}),r.on("mouseenter",function(e){window.clearTimeout(o),e.stopPropagation()})}})}(jQuery),function(e){function r(e){e=e.replace(/left|top/g,"0px"),e=e.replace(/center/g,"50%"),e=e.replace(/right|bottom/g,"100%"),e=e.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");var t=e.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(t[1],10),t[2],parseFloat(t[3],10),t[4]]}var t=e.css;e.css=function(e,n,r){n==="background-position"&&(n="backgroundPosition");if(n!=="backgroundPosition"||!e.currentStyle||e.currentStyle[n])return t.apply(this,arguments);var i=e.style;return!r&&i&&i[n]?i[n]:t(e,"backgroundPositionX",r)+" "+t(e,"backgroundPositionY",r)};var n=e.fn.animate;e.fn.animate=function(e){return"background-position"in e&&(e.backgroundPosition=e["background-position"],delete e["background-position"]),"backgroundPosition"in e&&(e.backgroundPosition="("+e.backgroundPosition+")"),n.apply(this,arguments)},e.fx.step.backgroundPosition=function(t){if(!t.bgPosReady){var n=e.css(t.elem,"backgroundPosition");n||(n="0px 0px"),n=r(n),t.start=[n[0],n[2]];var i=r(t.end);t.end=[i[0],i[2]],t.unit=[i[1],i[3]],t.bgPosReady=!0}var s=[];s[0]=(t.end[0]-t.start[0])*t.pos+t.start[0]+t.unit[0],s[1]=(t.end[1]-t.start[1])*t.pos+t.start[1]+t.unit[1],t.elem.style.backgroundPosition=s[0]+" "+s[1]}}(jQuery),define("jqExtend",["jquery"],function(){}),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.12",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),function(){function t(t,n,r,i,s,o,u){var a=o.actions,f=e[o.context.lang||"zh_CN"],l={bookmark:"tis-bookmark",favorites:"tis-bookmark-favorites",addTpl:n,listTpl:t,urls:{read:a.bookmarkLoadUrl,save:a.bookmarkSaveUrl,destroy:a.bookmarkDeleteUrl,view:a.bookmarkViewUrl},callbacks:{onAddFavorites:null}},c=function(e){this.opts=$.extend(!0,{},l,e||{}),this.init()};return c.prototype={init:function(){var e=this;e.embedTpl(),e.initDomEl(),e.initListTpl(),e.initEvent()},embedTpl:function(){var e=this,t=i.render(e.opts.listTpl,f),n=i.render(e.opts.addTpl,f);$(document.body).append(t.replace(/{-{/g,"{{").replace(/}-}/g,"}}")),$(document.body).append(n.replace(/{-{/g,"{{").replace(/}-}/g,"}}"))},initDomEl:function(){var e=this;e.host=e.opts.host||"",e.loadingImgSrc=e.opts.loadingImgSrc||"",e.$target=$("#"+e.opts.target),e.$tisFavorites=$("#"+e.opts.favorites),e.$tisBookmark=$("#"+e.opts.bookmark),e.$favoritesTarget=$("#"+e.opts.favoritesTarget),e.$checkAll=e.$tisBookmark.find("[data-action=check-all]"),e.$tisBookmarkBody=e.$tisBookmark.find("[data-action=body]")},initListTpl:function(){var e=this;e.listTpl=e.$tisBookmark.find("[data-action=list-tpl]").html()},initEvent:function(){var e=this;e.$target.on("click",function(){e.openBookmark()}),e.$favoritesTarget.on("click",function(){e.openFavorites()}),e.getFavoritesEl("close").on("click",function(){e.closeFavorites()}),e.getFavoritesEl("save").on("click",function(){e.addFavorites()}),e.getBookmarkEl("close").on("click",function(){e.closeBookmark()}),e.$checkAll.on("click",function(){e.checkAll()}),e.getBookmarkEl("delete-checked").on("click",function(){e.destroyMultiple()}),e.getBookmarkEl("body").on("click","input[type=checkbox], a",function(){e.selectionRow(this)})},selectionRow:function(e){var t=this,n=$(e).attr("data-action");switch(n){case"view":t.viewBookmark(e);break;case"destroy":t.destroySingle(e);break;case"check":t.singleCheck();break;default:}},viewBookmark:function(e){var t=this,n=$(e).attr("data-params"),r=o.context.host==""?"/":o.context.host,i=r+"?"+n,s={source:"书签管理窗口",args:n};u.publish("legendData","跳转至左图右数据","click","view",s),window.open(i,"_self")},checkAll:function(){var e=this,t=e.getBookmarkEl("check"),n=e.$checkAll.is(":checked");t.attr("checked",n)},singleCheck:function(){var e=this,t=e.getBookmarkEl("check"),n=t.length,r=t.filter(":checked").length;e.$checkAll.attr("checked",n==r)},loadData:function(){var e=this;s.invoke({url:e.opts.urls.read,contentType:"application/json",beforeSend:function(){e.$tisBookmark.block({message:e.loadingImgSrc,css:{border:"none",background:"none"}})},complete:function(){e.$tisBookmark.unblock()},success:function(t){e.finishLoad(t)},failed:function(e){alert(e.reason)}})},finishLoad:function(e){var t=this,n=0,r=e.Data;for(;n<r.length;n++)r[n].rowNumber=n+1;t.render(r)},render:function(e){var t=this,n=i.render(t.listTpl,{records:e});t.$tisBookmarkBody.html(n)},destroySingle:function(e){if(!confirm(f[103]))return;var t=this,n=$(e).parents("tr"),r=n.attr("data-id"),i=[{Id:r}];t.doDestroy(i),u.publish("book-mark","删除单条","click","delete",{args:i})},destroyMultiple:function(){var e=this,t=[],n=e.getBookmarkEl("check").filter(":checked");if(n.length===0){alert(f[102]);return}if(!confirm(f[104]))return;n.each(function(){var e=$(this).parents("tr").attr("data-id");t.push({Id:e})}),e.doDestroy(t),u.publish("book-mark","选中删除","click","delete",{args:t})},doDestroy:function(e){var t=this;s.invoke({url:t.opts.urls.destroy,data:JSON.stringify(e),contentType:"application/json",success:function(e){t.finishDestroy()},failed:function(e){alert(f[101]+":"+e.reason)}})},finishDestroy:function(){var e=this;alert(f[100]),e.loadData()},addFavorites:function(){if(!this.validateBookmarkName()){alert(f[114]),this.getFavoritesEl("bookmark-name").focus();return}var e=this,t=e.getParams();s.invoke({url:e.opts.urls.save,data:JSON.stringify(t),contentType:"application/json",success:function(t){e.finishFavorites(t)},failed:function(e){alert(e.reason)}}),u.publish("add-book-mark","添加书签窗口-保存","click","add",t)},validateBookmarkName:function(){var e=this,t=e.getFavoritesEl("bookmark-name"),n=t.val();return $.trim(n).length===0?!1:!0},getParams:function(){var e=this,t=e.getFavoritesEl("bookmark-name").val(),n={Description:t};for(var r in e.paths)n[r]=e.paths[r];return n},finishFavorites:function(e){var t=this;alert(f[115]),t.closeFavorites()},openBookmark:function(){var e=this,t=e.$tisBookmark.width(),n=e.$tisBookmark.height();$.blockUI({focusInput:!1,message:e.$tisBookmark,css:{top:($(window).height()-n)/2+"px",left:($(window).width()-t)/2+"px",width:t+"px",height:n+"px",cursor:"auto",border:"0",borderRadius:"4px"}}),e.loadData()},closeBookmark:function(){var e=this;$.unblockUI()},openFavorites:function(e){var t=this,n=t.$tisFavorites.height(),r=t.$tisFavorites.width();t.paths=e,$.blockUI({message:t.$tisFavorites,css:{top:($(window).height()-n)/2+"px",left:($(window).width()-r)/2+"px",width:r+"px",height:n+"px",cursor:"auto",border:"0",borderRadius:"4px"}})},closeFavorites:function(){var e=this;e.getFavoritesEl("bookmark-name").val(""),$.unblockUI()},getBookmarkEl:function(e){var t=this;return t.$tisBookmark.find('[data-action="'+e+'"]')},getFavoritesEl:function(e){var t=this;return t.$tisFavorites.find('[data-action="'+e+'"]')}},c}var e={zh_CN:{100:"删除成功",101:"删除失败",102:"请选中需要删除的记录",103:"确认删除当前记录吗?",104:"确认删除选中记录吗",105:"添加书签",106:"书签名称",107:"保存",108:"取消",109:"书签管理",110:"添加时间",111:"操作",112:"删除",113:"查看",114:"书签名称不允许为空",115:"添加成功"},en_US:{100:"Deleted successfully",101:"Delete failed",102:"Please select the record to be deleted",103:"Confirm delete the current record it?",104:"Confirm delete the selected record it?",105:"Add a bookmark",106:"Bookmark Name",107:"Save",108:"Cancel",109:"Bookmark Manager",110:"Add Time",111:"Operating",112:"Delete",113:"View",114:"Bookmark names are not allowed to empty",115:"Bookmarked"}};if(typeof define=="function"&&define.amd&&define.amd.jQuery){var n=function(){var e,t=require.s.contexts._.config,n=t.paths.bookmark;if(typeof n!="undefined")return e=n.split(/\/+/g),e.slice(0,e.length-2).join("/")+"/";alert("require config paths 'bookmark' key not exist")}();typeof n!="undefined"&&define("bookmark",["text!"+n+"tpl/list-dialog.html","text!"+n+"tpl/add-dialog.html","text!"+n+"css/bookmark.css","mustache","ajax","globalConfig","track","blockUI"],t)}}(),function(){function t(t,n,r,i,s,o){var u=s.actions,a=e[s.context.lang||"zh_CN"],f={history:"tis-history",listTpl:t,urls:{read:u.historyLoadUrl,destroy:u.historyDeleteUrl,save:u.historyInsertUrl}},l=function(e){this.opts=$.extend(!0,{},f,e||{}),this.init()};return l.prototype={init:function(){var e=this;e.embedTpl(),e.initDomEl(),e.initListTpl(),e.initEvent()},embedTpl:function(){var e=this,t=r.render(e.opts.listTpl,a);$(document.body).append(t.replace(/{-{/g,"{{").replace(/}-}/g,"}}"))},initDomEl:function(){var e=this;e.host=e.opts.host||"",e.loadingImgSrc=e.opts.loadingImgSrc||"",e.$target=$("#"+e.opts.target),e.$tisHistory=$("#"+e.opts.history),e.$checkAll=e.$tisHistory.find("[data-action=check-all]"),e.$tisHistoryBody=e.$tisHistory.find("[data-action=body]")},initListTpl:function(){var e=this;e.listTpl=e.$tisHistory.find("[data-action=list-tpl]").html()},initEvent:function(){var e=this;e.$target.on("click",function(){e.openHistory()}),e.getHistoryEl("close").on("click",function(){e.closeHistory()}),e.$checkAll.on("click",function(){e.checkAll()}),e.getHistoryEl("delete-checked").on("click",function(){e.destroyMultiple()}),e.getHistoryEl("body").on("click","input[type=checkbox], a",function(){e.selectionRow(this)})},selectionRow:function(e){var t=this,n=$(e).attr("data-action");switch(n){case"view":t.viewHistory(e);break;case"destroy":t.destroySingle(e);break;case"check":t.singleCheck();break;default:}},viewHistory:function(e){var t=this,n=$(e).attr("data-params"),r=s.context.host==""?"/":s.context.host,i=r+"?"+n,u={source:"历史管理窗口",args:n};o.publish("legendData","跳转至左图右数据","click","view",u),window.open(i,"_self")},checkAll:function(){var e=this,t=e.getHistoryEl("check"),n=e.$checkAll.is(":checked");t.attr("checked",n)},singleCheck:function(){var e=this,t=e.getHistoryEl("check"),n=t.length,r=t.filter(":checked").length;e.$checkAll.attr("checked",n==r)},loadData:function(){var e=this;i.invoke({url:e.opts.urls.read,contentType:"application/json",beforeSend:function(){e.$tisHistory.block({message:e.loadingImgSrc,css:{border:"none",background:"none"}})},complete:function(){e.$tisHistory.unblock()},success:function(t){e.finishLoad(t)},failed:function(e){alert(e.reason)}})},finishLoad:function(e){var t=this,n=0,r=e.Data;for(;n<r.length;n++)r[n].rowNumber=n+1;t.render(r)},render:function(e){var t=this,n=r.render(t.listTpl,{records:e});t.$tisHistoryBody.html(n),t.$checkAll.prop("checked",!1)},destroySingle:function(e){if(!confirm(a[103]))return;var t=this,n=$(e).parents("tr"),r=n.attr("data-id"),i=[{Id:r}];t.doDestroy(i),o.publish("history","单条删除","click","delete",i[0])},destroyMultiple:function(){var e=this,t=[],n=e.getHistoryEl("check").filter(":checked");if(n.length===0){alert(a[102]);return}if(!confirm(a[104]))return;n.each(function(){var e=$(this).parents("tr").attr("data-id");t.push({Id:e})}),e.doDestroy(t),o.publish("history","选中删除","click","delete",{args:t})},doDestroy:function(e){var t=this;i.invoke({url:t.opts.urls.destroy,data:JSON.stringify(e),contentType:"application/json",success:function(e){t.finishDestroy()},failed:function(e){alert(a[101]+":"+e.reason)}})},finishDestroy:function(){var e=this;alert(a[100]),e.loadData()},addHistory:function(e){var t=this;i.invoke({url:t.opts.urls.save,contentType:"application/json",data:JSON.stringify(e)})},openHistory:function(){var e=this,t=e.$tisHistory.width(),n=e.$tisHistory.height();$.blockUI({focusInput:!1,message:e.$tisHistory,css:{top:($(window).height()-n)/2+"px",left:($(window).width()-t)/2+"px",width:t+"px",height:n+"px",cursor:"auto",border:"0",borderRadius:"4px"}}),e.loadData()},closeHistory:function(){var e=this;$.unblockUI()},getHistoryEl:function(e){var t=this;return t.$tisHistory.find('[data-action="'+e+'"]')}},l}var e={zh_CN:{100:"删除成功",101:"删除失败",102:"请选中需要删除的记录",103:"确认删除当前记录吗?",104:"确认删除选中记录吗",105:"添加书签",106:"书签名称",107:"保存",108:"取消",109:"添加时间",110:"操作",111:"删除",112:"查看",113:"序号",114:"品牌",115:"目录",116:"年",117:"车型",118:"主组",119:"图例编号",120:"历史管理"},en_US:{100:"Deleted successfully",101:"Delete failed",102:"Please select the record to be deleted",103:"Confirm delete the current record it?",104:"Confirm delete the selected record it?",105:"Add a bookmark",106:"Bookmark Name",107:"Save",108:"Cancel",109:"Add Time",110:"Operating",111:"Delete",112:"View",113:"No.",114:"Brand",115:"Catalogue",116:"Year",117:"Model",118:"Major Group",119:"Legand No.",120:"History management"}};if(typeof define=="function"&&define.amd&&define.amd.jQuery){var n=function(){var e,t=require.s.contexts._.config,n=t.paths.history;if(typeof n!="undefined")return e=n.split(/\/+/g),e.slice(0,e.length-2).join("/")+"/";alert("require config paths 'history' key not exist")}();typeof n!="undefined"&&define("history",["text!"+n+"tpl/list-dialog.html","text!"+n+"css/history.css","mustache","ajax","globalConfig","track","blockUI"],t)}}(),function(){function t(t,n,r,i,s){var o=i.actions,u=e[i.context.lang||"zh_CN"],a={shoppingCart:"shopping-cart",target:"nav-shopping-cart",listTpl:t,firstBg:"#b4e0ff",lastBg:"#ffffff",bgDelayTime:2e3,layerDelayTime:3e3,events:{},urls:{read:o.shoppingCartLoadAll,destroy:o.shoppingCartDelete,save:o.shoppingCartSave,linkToDetail:o.shoppingCartDetail,update:o.shoppingCartUpdate},callbacks:{doDestroyAfter:null}},f=function(e){this.opts=$.extend(!0,{},a,e||{}),this.init()};return f.prototype={init:function(){var e=this;e.initVariable(),e.embedTpl(),e.initDomEl(),e.initListTpl(),e.initEvent(),e.loadData()},on:function(e,t){var n=this;typeof e=="string"&&typeof t=="function"&&(e={events:t});if($.isEmptyObject(e))return;for(var r in e)n.events[r]=e[r]},afterDestroy:function(e,t){var n=this;typeof n.events["afterDestroy"]=="function"&&n.events.afterDestroy.call(n,e,t)},afterQtyChange:function(e,t){var n=this;typeof n.events["afterQtyChange"]=="function"&&n.events.afterQtyChange.call(n,e,t)},afterAddToShoppingCart:function(e,t){var n=this;typeof n.events["afterAddToShoppingCart"]=="function"&&n.events.afterAddToShoppingCart.call(n,e,t)},afterQtyChange:function(e,t){var n=this;typeof n.events["afterQtyChange"]=="function"&&n.events.afterQtyChange.call(n,e,t)},initVariable:function(){var e=this;e.host=e.opts.host||"",e.loadingImgSrc=e.opts.loadingImgSrc||"",e.events={}},embedTpl:function(){var e=this,t=$("#"+e.opts.target),r=n.render(e.opts.listTpl,u);t.find(".nav-detail-box").remove(),t.append(r.replace(/{-{/g,"{{").replace(/}-}/g,"}}"))},initDomEl:function(){var e=this;e.$totalNum=$("#"+e.opts.totalNum),e.$shoppingScope=$("#"+e.opts.shoppingScope),e.$target=$("#"+e.opts.target),e.$tisCart=$("#"+e.opts.shoppingCart),e.$cartLink=e.$target.find(">a.nav-item-link"),e.maxQty=99999,e.globalPartNo=e.firstNo="",e.clearTime=null,e.dockFlag=!0,e.curViewTop=0,e.loadedCallback={tipFun:null}},initListTpl:function(){var e=this;e.listTpl=e.$tisCart.find("[data-action=list-tpl]").html()},initEvent:function(){var e=this;e.$tisCart.on("click","[data-action='destory']",function(){e.destroySingle(this)}),e.$target.on("mouseenter mouseleave",function(t){var n=t.type;n=="mouseenter"?(e.$shoppingScope.is(":hidden")&&e.$shoppingScope.show(),e.dockFlag=!1):(e.$shoppingScope.hide(),e.globalPartNo=e.firstNo="",e.dockFlag=!0)}),e.$cartLink.on("mouseenter",function(t){e.$shoppingScope.is(":hidden")&&e.loadData()}),e.$tisCart.on("click","a[data-action='toDetail']",function(){s.publish("header","去购物车结算","click","link",$(this).attr("href")),window.open(e.host+"/ShoppingCart","_blank")}),e.$tisCart.on("click","[data-action='decrease-qty'],[data-action='increase-qty']",function(t){var n=$(this).closest("li[data-id]"),r=$(this).attr("data-action"),i=$(this).siblings("[type='text']"),s=n.attr("data-unitpkg-qty"),o=n.attr("data-id");r==="increase-qty"?e.increaseQty(s,i,o):r==="decrease-qty"&&e.decreaseQty(s,i,o),e.curViewTop=n.closest("ul").scrollTop()}),e.$tisCart.on("blur","input[type='text'][data-action='blur']",function(){e.rounding($(this))}),e.$tisCart.on("focus","input[type='text'][data-action='blur']",function(){e.qtyChangeNum=$(this).val()||1})},viewCartDetail:function(e){var t=this,n=$(e).attr("data-params"),r=i.context.host+"?"+n;window.open(r,"_self")},loadData:function(){var e=this;r.invoke({url:e.opts.urls.read,contentType:"application/json",success:function(t){e.finishLoad(t)},failed:function(t){e.getTipsEl(t.reason)}})},finishLoad:function(e){var t=this;e.IsSuccess&&(e.Data.IsShowCart=function(){return e.Data.Total>0?!0:!1},t.render(e.Data))},render:function(e){var t=this,r=n.render(t.listTpl,e);t.$tisCart.html(r),t.$totalNum.html(e.Total),t.showFirst(),t.curViewTop&&(t.$tisCart.find("ul[data-field='part-scope']").scrollTop(t.curViewTop),t.curViewTop=0),typeof t.loadedCallback.tipFun=="function"&&(t.loadedCallback.tipFun.call(null,t),t.clearCallbackMsg())},showFirst:function(){var e=this,t,n;e.globalPartNo?(n=e.$tisCart.find("li[data-id='"+e.globalPartNo+"']"),t=n.closest("ul"),n.prependTo(t).css({backgroundColor:e.opts.firstBg}).delay(e.opts.bgDelayTime).animate({backgroundColor:e.opts.lastBg})):e.firstNo&&(n=e.$tisCart.find("li[data-id='"+e.firstNo+"']"),t=n.closest("ul"),n.prependTo(t))},setShowFirstForPart:function(e){var t=this;t.globalPartNo=e},cartDelayHide:function(){var e=this;e.$shoppingScope.show(),e.loadData(),clearTimeout(e.clearTime),e.clearTime=setTimeout(function(){e.dockFlag&&e.$target.trigger("mouseleave")},e.opts.layerDelayTime)},destroySingle:function(e){if(!confirm(u[110]))return;var t=this,n=$(e).parents("li"),r=n.attr("data-id"),i=[r];t.doDestroy(i)},destroyMultiple:function(){var e=this,t=[],n=e.getHistoryEl("check").filter(":checked");if(n.length===0){alert(u[102]);return}if(!confirm(u[104]))return;n.each(function(){var e=$(this).parents("tr").attr("data-id");t.push({Id:e})}),e.doDestroy(t)},doDestroy:function(e){var t=this;r.invoke({url:t.opts.urls.destroy,data:JSON.stringify({parts:e}),contentType:"application/json",success:function(n){t.finishDestroy(),t.afterDestroy(e,n)},failed:function(e){alert(u[112]+":"+e.reason)}})},finishDestroy:function(){var e=this;alert(u[111]),e.loadData()},addHistory:function(e){var t=this;r.invoke({url:t.opts.urls.save,contentType:"application/json",data:JSON.stringify(e)})},addToShoppingCart:function(e){var t=this,n={PartNumber:e};r.invoke({url:t.opts.urls.save,data:n,success:function(r){t.globalPartNo=e,t.firstNo=e,t.addShoppingCartSuccess(r),t.afterAddToShoppingCart(n,r)},failed:function(e){alert(e.reason)}})},addShoppingCartSuccess:function(e){var t=this;e.IsSuccess&&t.cartDelayHide()},loadingShow:function(){var e=this;e.$tisCart.block({message:e.loadingImgSrc,css:{border:"none",background:"none"}})},loadingHide:function(){var e=this;e.$tisCart.unblock()},increaseQty:function(e,t,n){var r=this,i,s=Number(t.val()),e=Number(e),o=s+e;r.clearCallbackMsg();if(o>r.maxQty)return r.getTipsEl(u[114]);t.val(o),i={PartNumber:n,Qty:o},r.qtyChange(i),r.afterQtyChange(i,"add")},decreaseQty:function(e,t,n){var r=this,i,s=Number(t.val()),e=Number(e),o=s-e;r.clearCallbackMsg();if(o<1||s==e)return;s!==e&&t.val(o),i={PartNumber:n,Qty:t.val()},r.qtyChange(i),r.afterQtyChange(i,"del")},rounding:function(e){var t=this,n=e.closest("li"),r=n.attr("data-unitpkg-qty"),i=n.attr("data-id"),s="",o=e.val()||1;t.clearCallbackMsg();if(isNaN(o)||!/^\d+$/.test(o)){e.val(t.qtyChangeNum);return}if(parseInt(o)<1||parseInt(o)==r)o=r;parseInt(o)>t.maxQty&&(s=u[114],o=t.maxQty),parseInt(o)%parseInt(r)!==0&&(o=Math.ceil(parseInt(o)/parseInt(r))*parseInt(r),o>t.maxQty&&(o=r*Math.floor(t.maxQty/r)),t.loadedCallback.tipFun=function(){var e=(s&&s+";")+u[115]+":"+r+", "+u[116]+":"+o;t.getTipsEl(e)}),e.val(o);if(t.qtyChangeNum==o)return;params={PartNumber:i,Qty:e.val()},t.curViewTop=n.closest("ul").scrollTop(),t.qtyChange(params)},clearCallbackMsg:function(){var e=this;e.loadedCallback.tipFun=null,e.globalPartNo=""},qtyChange:function(e){var t=this;r.invoke({url:t.opts.urls.update,contentType:"application/json",data:JSON.stringify(e),beforeSend:function(){t.loadingShow()},complete:function(){t.loadingHide()},success:function(n){switch(n.Data){case 1:t.getTipsEl(u[118]);break;case 2:t.getTipsEl(u[117]);break;default:t.loadData(),t.afterQtyChange(e,n)}},failed:function(e){t.getTipsEl(e.reason)}})},getTipsEl:function(e){var t=this,n=t.$tisCart.find("[data-action='tips']");n.find("[data-field='content']").html(e).prop("title",e),n.stop(!1,!0).slideDown().delay(3e3).slideUp()}},f}var e={zh_CN:{100:"购物车",101:"购物车中还没有商品，赶紧选购吧!",102:"共",103:"件商品",104:"共计",105:"去购物车结算",106:"件",107:"无记录匹配搜索",108:"此零件已在购物车中！",109:"购买成功",110:"是否确认删除",111:"删除成功",112:"错误",113:"去购物车结算",114:"最大值不能超过 99999",115:"最小包装单元",116:"已圆整",117:"请输入最小包装数的整数倍",118:"此零件在EPC中不存在，请返回检查零件编号是否有误"},en_US:{100:"Cart",101:"Still empty? Go and Pick!",102:"Subtotal",103:"items",104:"Total",105:"Go to the cart for settlement",106:"item",107:"No records match search",108:"The Part is already in the Cart",109:"Buy successfully",110:"Confirm the Deletion",111:"Deleted successfully",112:"Error",113:"Go to the cart for settlement",114:"The maximum value is 99999",115:"Min. Package Unit",116:"Orderer Info.",117:"Please enter the multiple of qty",118:"The part does not exist in the EPC. Please double check the part no."}};if(typeof define=="function"&&define.amd&&define.amd.jQuery){var n=function(){var e,t=require.s.contexts._.config,n=t.paths.shoppingCart;if(typeof n!="undefined")return e=n.split(/\/+/g),e.slice(0,e.length-2).join("/")+"/";alert("require config paths 'shoppingCart' key not exist")}();typeof n!="undefined"&&define("shoppingCart",["text!"+n+"tpl/cart-list.html","mustache","ajax","globalConfig","track","blockUI"],t),function(){var e=document.createElement("link"),t=require.s.contexts._.config.baseUrl+n+"css/shoppingCart.css";e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}()}}(),define("notice",["globalConfig","ajax","mustache"],function(e,t,n){var r=e.actions.noticeAllUrl,i=function(){this.init()};return i.prototype={init:function(){var e=this;e.bindDomEls(),e.bindTemplate(),e.request()},bindDomEls:function(){var e=this;e.$noticeWrap=$("#notice-item-common"),e.$noticeTemplate=$("#notice-item-template"),e.$bulletinWrap=$("#bulletin-item-common"),e.$bulletinTemplate=$("#bulletin-item-template")},bindTemplate:function(){var e=this;e.noticeTemplate=e.$noticeTemplate.html(),e.bulletinTemplate=e.$bulletinTemplate.html()},request:function(){var e=this;t.invoke({url:r,type:"get",contentType:"application/json",success:function(t){e.buildData(t.Data)},failed:function(e){alert(e.reason)}})},buildData:function(e){var t=this,n={},r=0;for(var i in e)e[i].Details[0]?(n["is"+i]=!0,n[i]=e[i].Details[0]):n["is"+i]=!1;t.render(n)},render:function(e){var t=this,r="",i=n.render(t.noticeTemplate,{Messages:e.Messages||[]}),s=n.render(t.bulletinTemplate,{Bulletins:e.Bulletins||[]});t.$noticeWrap.html(i),t.$bulletinWrap.html(s)}},i}),function(e,t){var n=[].slice,r={},i=e.amplify={publish:function(e){var t=n.call(arguments,1),i,s,o,u=0,a;if(!r[e])return!0;i=r[e].slice();for(o=i.length;u<o;u++){s=i[u],a=s.callback.apply(s.context,t);if(a===!1)break}return a!==!1},subscribe:function(e,t,n,i){arguments.length===3&&typeof n=="number"&&(i=n,n=t,t=null),arguments.length===2&&(n=t,t=null),i=i||10;var s=0,o=e.split(/\s/),u=o.length,a;for(;s<u;s++){e=o[s],a=!1,r[e]||(r[e]=[]);var f=r[e].length-1,l={callback:n,context:t,priority:i};for(;f>=0;f--)if(r[e][f].priority<=i){r[e].splice(f+1,0,l),a=!0;break}a||r[e].unshift(l)}return n},unsubscribe:function(e,t){if(!!r[e]){var n=r[e].length,i=0;for(;i<n;i++)if(r[e][i].callback===t){r[e].splice(i,1);break}}}}}(this),function(e,t){function n(e,n){r.addType(e,function(s,o,u){var f,l,h,p,v=o,m=(new Date).getTime();if(!s){v={},p=[],h=0;try{s=n.length;while(s=n.key(h++))i.test(s)&&(l=JSON.parse(n.getItem(s)),l.expires&&l.expires<=m?p.push(s):v[s.replace(i,"")]=l.data);while(s=p.pop())n.removeItem(s)}catch(g){}return v}s="__amplify__"+s;if(o===t){f=n.getItem(s),l=f?JSON.parse(f):{expires:-1};if(!(l.expires&&l.expires<=m))return l.data;n.removeItem(s)}else if(o===null)n.removeItem(s);else{l=JSON.stringify({data:o,expires:u.expires?m+u.expires:null});try{n.setItem(s,l)}catch(g){r[e]();try{n.setItem(s,l)}catch(g){throw r.error()}}}return v})}var r=e.store=function(e,t,n,i){var i=r.type;return n&&n.type&&n.type in r.types&&(i=n.type),r.types[i](e,t,n||{})};r.types={},r.type=null,r.addType=function(e,t){r.type||(r.type=e),r.types[e]=t,r[e]=function(t,n,i){return i=i||{},i.type=e,r(t,n,i)}},r.error=function(){return"amplify.store quota exceeded"};var i=/^__amplify__/;for(var s in{localStorage:1,sessionStorage:1})try{window[s].getItem&&n(s,window[s])}catch(o){}if(window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),r.type==="sessionStorage"&&(r.type="globalStorage")}catch(o){}(function(){if(!r.types.localStorage){var e=document.createElement("div"),n="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(n)}catch(i){e.parentNode.removeChild(e);return}r.addType("userData",function(i,s,o){e.load(n);var u,f,l,h,p,v=s,m=(new Date).getTime();if(!i){v={},p=[],h=0;while(u=e.XMLDocument.documentElement.attributes[h++])f=JSON.parse(u.value),f.expires&&f.expires<=m?p.push(u.name):v[u.name]=f.data;while(i=p.pop())e.removeAttribute(i);return e.save(n),v}i=i.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");if(s===t){u=e.getAttribute(i),f=u?JSON.parse(u):{expires:-1};if(!(f.expires&&f.expires<=m))return f.data;e.removeAttribute(i)}else s===null?e.removeAttribute(i):(l=e.getAttribute(i),f=JSON.stringify({data:s,expires:o.expires?m+o.expires:null}),e.setAttribute(i,f));try{e.save(n)}catch(g){l===null?e.removeAttribute(i):e.setAttribute(i,l),r.userData();try{e.setAttribute(i,f),e.save(n)}catch(g){throw l===null?e.removeAttribute(i):e.setAttribute(i,l),r.error()}}return v})}})(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var n={},i={};r.addType("memory",function(r,s,o){return r?s===t?e(n[r]):(i[r]&&(clearTimeout(i[r]),delete i[r]),s===null?(delete n[r],null):(n[r]=s,o.expires&&(i[r]=setTimeout(function(){delete n[r],delete i[r]},o.expires)),s)):e(n)})}()}(this.amplify=this.amplify||{}),function(e,t){function n(e){var t=!1;return setTimeout(function(){t=!0},1),function(){var n=this,r=arguments;t?e.apply(n,r):setTimeout(function(){e.apply(n,r)},1)}}function r(e){return{}.toString.call(e)==="[object Function]"}function i(){}e.request=function(t,s,o){var u=t||{};typeof u=="string"&&(r(s)&&(o=s,s={}),u={resourceId:t,data:s||{},success:o});var f={abort:i},l=e.request.resources[u.resourceId],h=u.success||i,p=u.error||i;u.success=n(function(t,n){n=n||"success",e.publish("request.success",u,t,n),e.publish("request.complete",u,t,n),h(t,n)}),u.error=n(function(t,n){n=n||"error",e.publish("request.error",u,t,n),e.publish("request.complete",u,t,n),p(t,n)});if(!l)throw u.resourceId?"amplify.request: unknown resourceId: "+u.resourceId:"amplify.request: no resourceId provided";if(!!e.publish("request.before",u))return e.request.resources[u.resourceId](u,f),f;u.error(null,"abort")},e.request.types={},e.request.resources={},e.request.define=function(t,n,r){if(typeof n=="string"){if(!(n in e.request.types))throw"amplify.request.define: unknown type: "+n;r.resourceId=t,e.request.resources[t]=e.request.types[n](r)}else e.request.resources[t]=n}}(amplify),function(e,t,n){var r=["status","statusText","responseText","responseXML","readyState"],i=/\{([^\}]+)\}/g;e.request.types.ajax=function(i){return i=t.extend({type:"GET"},i),function(s,o){function u(e,i){t.each(r,function(e,t){try{m[t]=f[t]}catch(n){}}),/OK$/.test(m.statusText)&&(m.statusText="success"),e===n&&(e=null),v&&(i="abort"),/timeout|error|abort/.test(i)?m.error(e,i):m.success(e,i),u=t.noop}var f,l=i.url,h=o.abort,p=t.extend(!0,{},i,{data:s.data}),v=!1,m={readyState:0,setRequestHeader:function(e,t){return f.setRequestHeader(e,t)},getAllResponseHeaders:function(){return f.getAllResponseHeaders()},getResponseHeader:function(e){return f.getResponseHeader(e)},overrideMimeType:function(e){return f.overrideMideType(e)},abort:function(){v=!0;try{f.abort()}catch(e){}u(null,"abort")},success:function(e,t){s.success(e,t)},error:function(e,t){s.error(e,t)}};e.publish("request.ajax.preprocess",i,s,p,m),t.extend(p,{success:function(e,t){u(e,t)},error:function(e,t){u(null,t)},beforeSend:function(t,n){f=t,p=n;var r=i.beforeSend?i.beforeSend.call(this,m,p):!0;return r&&e.publish("request.before.ajax",i,s,p,m)}}),t.ajax(p),o.abort=function(){m.abort(),h.call(this)}}},e.subscribe("request.ajax.preprocess",function(e,n,r){var s=[],o=r.data;typeof o!="string"&&(o=t.extend(!0,{},e.data,o),r.url=r.url.replace(i,function(e,t){if(t in o)return s.push(t),o[t]}),t.each(s,function(e,t){delete o[t]}),r.data=o)}),e.subscribe("request.ajax.preprocess",function(e,n,r){var i=r.data,s=e.dataMap;!!s&&typeof i!="string"&&(t.isFunction(s)?r.data=s(i):(t.each(e.dataMap,function(e,t){e in i&&(i[t]=i[e],delete i[e])}),r.data=i))});var s=e.request.cache={_key:function(e,t,n){function r(){return n.charCodeAt(s++)<<24|n.charCodeAt(s++)<<16|n.charCodeAt(s++)<<8|n.charCodeAt(s++)<<0}n=t+n;var i=n.length,s=0,o=r();while(s<i)o^=r();return"request-"+e+"-"+o},_default:function(){var e={};return function(t,n,r,i){var o=s._key(n.resourceId,r.url,r.data),u=t.cache;if(o in e)return i.success(e[o]),!1;var l=i.success;i.success=function(t){e[o]=t,typeof u=="number"&&setTimeout(function(){delete e[o]},u),l.apply(this,arguments)}}}()};e.store&&(t.each(e.store.types,function(t){s[t]=function(n,r,i,o){var u=s._key(r.resourceId,i.url,i.data),l=e.store[t](u);if(l)return i.success(l),!1;var c=o.success;o.success=function(r){e.store[t](u,r,{expires:n.cache.expires}),c.apply(this,arguments)}}}),s.persist=s[e.store.type]),e.subscribe("request.before.ajax",function(e){var t=e.cache;if(t)return t=t.type||t,s[t in s?t:"_default"].apply(this,arguments)}),e.request.decoders={jsend:function(e,t,n,r,i){e.status==="success"?r(e.data):e.status==="fail"?i(e.data,"fail"):e.status==="error"&&(delete e.status,i(e,"error"))}},e.subscribe("request.before.ajax",function(n,r,i,s){function o(e,t){l(e,t)}function u(e,t){f(e,t)}var f=s.success,l=s.error,c=t.isFunction(n.decoder)?n.decoder:n.decoder in e.request.decoders?e.request.decoders[n.decoder]:e.request.decoders._default;!c||(s.success=function(e,t){c(e,t,s,u,o)},s.error=function(e,t){c(e,t,s,u,o)})})}(amplify,jQuery),define("amplify",["jquery"],function(){}),define("initMasterCmp",["bookmark","history","shoppingCart","notice","globalConfig","track","cookie","uniqueLogin","amplify"],function(e,t,n,r,i,s){var o=i.context.host,u={header:"page_header"},a={init:function(){var e=this;e.buildDom(),e.initComponent(),e.subscribeEvent(),e.bindEvent()},buildDom:function(){var e=this;e.$header=$("#"+u.header)},subscribeEvent:function(){var e=this;amplify.subscribe("buy",function(t){e.shoppingCart.addToShoppingCart(t)}),amplify.subscribe("cartDelayHide",function(t){e.shoppingCart.setShowFirstForPart(t),e.shoppingCart.cartDelayHide()})},initComponent:function(){var i=this;i.bookmark=new e({target:"btn-bookmark-manager",host:o,loadingImgSrc:"<img src='"+o+"/style/images/loading.gif' />"}),i.history=new t({target:"btn-history-manager",host:o,loadingImgSrc:"<img src='"+o+"/style/images/loading.gif' />"}),i.shoppingCart=new n({host:o,shoppingScope:"shopping-cart-scope",loadingImgSrc:"<img src='"+o+"/style/images/loading.gif' />",totalNum:"shoppingcart-total-qty-tips .nav-item-tips-text"}),i.notice=new r},bindEvent:function(){var e=this;e.$header.on("click","[data-lang]",function(){var e=$(this).attr("data-lang"),t="lng",n=e,r="";e&&(n=e.toLowerCase()),n==="zh_cn"?r="语言-中文":n==="en_us"&&(r="语言-English"),$.cookies.set(t,e.replace(/_/,"-")),s.publish("header",r,"click","link",n),window.location.reload(!0)}),e.$header.on("click","#btn-bookmark-manager",function(e){s.publish("header","书签-书签管理","click","open","书签-书签管理"),e.stopPropagation()}),e.$header.on("click","#btn-history-manager",function(e){s.publish("header","书签-历史管理","click","open","书签-历史管理"),e.stopPropagation()}),e.$header.on("click","#nav-order a",function(){s.publish("header","订单","click","link",$(this).attr("href"))}),e.$header.on("click","#notice-wrap",function(e){var t=$(e.target),n=e.target.tagName,r;if(n=="A"){var i=t.closest("li").index();i==0?r="消息-通知":r="消息-通讯",s.publish("header",r,"click","link",t.attr("href"))}})}};return a.init(),a}),define("domReady",[],function(){"use strict";function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),require(["globalConfig","ajax","remark","track","uniqueLogin","jquery","loupe","jqExtend","initMasterCmp","domReady!"],function(e,t,n,r){var i={init:function(){var e=this;e.initComponent(),e.bindDomEls(),e.reBuildEl(),e.bindEvent(),e.decideBtnStatus(),e.initContainerW(),e.verifyCurrent(),e.initLoupe()},initComponent:function(){var e=this;e.remark=new n,e.remark.load()},bindDomEls:function(){var e=this;e.$imgWrap=$("#img-container"),e.$img=$("#img"),e.$btnLeft=$("#toggle-img-left"),e.$btnRight=$("#toggle-img-right"),e.$buy=$("#buy"),e.$switch=$("#detail-grid-switch"),e.$allGrid=$("#detail-grid")},bindEvent:function(){var e=this;e.$imgWrap.on("click","img",function(){var t=$(this).attr("data-picture-src");e.$img.attr("src",t),r.publish("partdetail","配件照片","click","view","PartNumber:"+e.$buy.attr("data-partNumber")+";imageSrc:"+t)}),e.$btnLeft.click(function(){e.leftMove()}),e.$btnRight.click(function(){e.rightMove()}),e.$buy.click(function(){var t=$(this).attr("data-partNumber");e.addtoShoppingCart(t),r.publish("partdetail","购买","click","add","PartNumber:"+t)}),e.$switch.on("click","li[data-area]",function(t){var n=$(this).attr("data-area");e.toggleGrid(n),n==="SuperSession"?r.publish("partdetail","替换关系","click","view"):r.publish("partdetail","用户备注","click","view")})},reBuildEl:function(){var e=this;e.ol=e.$imgWrap.find("ol"),e.position=e.ol.position(),e.img=e.$imgWrap.find("img"),e.imgWrapW=e.$imgWrap.width(),e.allImgWidth=e.img.length*(e.img.eq(0).width()+2+10),e.oneImgW=e.img.eq(0).width()+2+10},initContainerW:function(){var e=this;e.$imgWrap.find("ol").css("width",e.allImgWidth+"px")},initLoupe:function(){var e=this;e.$imgWrap.find("img").each(function(e,t){var n=new Image;n.src=$(t).attr("src").replace(/\!\w*$/,"")}),$("#loupe_scope").Loupe({large:"#large",fixed:"#showImg",isBackground:!0,isShowInnerImg:!1,filter:["default.png"]})},leftMove:function(){var e=this,t=e.position.left+e.img.eq(0).width()+10+2+"px";-e.position.left>0&&e.ol.animate({left:t},"fast",function(){e.reBuildEl(),e.decideBtnStatus()})},rightMove:function(){var e=this,t=e.position.left-e.img.eq(0).width()-10-2+"px";e.allImgWidth+e.position.left>e.imgWrapW&&e.ol.animate({left:t},"fast",function(){e.reBuildEl(),e.decideBtnStatus()})},decideBtnStatus:function(){var e=this;-e.position.left>0?e.$btnLeft.addClass("toggle-btn-left-active"):e.$btnLeft.removeClass("toggle-btn-left-active"),e.allImgWidth- -e.position.left-e.imgWrapW>=e.oneImgW?e.$btnRight.addClass("toggle-btn-right-active"):e.$btnRight.removeClass("toggle-btn-right-active")},addtoShoppingCart:function(e){amplify.publish("buy",e)},toggleGrid:function(e){var t=this,n="detail-switch-active",r=t.$allGrid,i=r.find("div[data-area='"+e+"']"),s=t.getType();t.$switch.find("[class$='"+n+"']").removeClass(n),t.$switch.find("[data-area='"+e+"']").addClass(n),r.find("div[data-area]").hide(),i.show()},getType:function(){return $.getParameterByName("type")},verifyCurrent:function(){var e=this,t=e.getType();t.length>0&&e.toggleGrid(t)}};i.init()}),define("app/detail/main.js",function(){});