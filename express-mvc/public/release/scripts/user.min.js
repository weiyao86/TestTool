/* build date: 2016-04-13T19:05:52+0800 */ 
define("ajax",["globalConfig"],function(t){var e={zh_CN:{100:"未知错误",101:"被请求的页面需要用户名和密码",102:"请求未完成,服务器遇到不可预知的情况"},en_US:{100:"Unknown error",101:"The requested page needs a username and password",102:"The request was not completed, the server encounters unpredictable circumstances"}},a=e[t.context.lang||"zh_CN"],i={cache:!0,data:{},timeout:6e3,dataType:"json",type:"POST",contentType:"application/x-www-form-urlencoded",traditional:!1};return{invoke:function(t){var e=this,a=$.extend({},i,t||{}),n=$.ajax({url:a.url,contentType:a.contentType,type:a.type,cache:a.cache,data:a.data,timeout:a.timeout,dataType:a.dataType,beforeSend:a.beforeSend,complete:a.complete,traditional:a.traditional,success:function(t){e.success(a,t)},error:function(t){e.error(a,t)}});return n},success:function(t,e){var i=this,e=e||{};e.success||e.IsSuccess?"function"==typeof t.success&&t.success.apply(i,[e]):i.failed(t,e.msg||e.ErrorMessage||a[100])},error:function(t,e){var i=this,n=e.status+", "+e.statusText;switch(e.status){case 0:alert(n);break;case 401:alert(a[101]),location.href=location.href;break;case 500:alert(a[102]);break;default:"function"==typeof t.failed&&t.failed.apply(i,[{reason:n}])}},failed:function(t,e){var a=this;"function"==typeof t.failed&&t.failed.apply(a,[{reason:e}])}}});var Mustache;!function(t){"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define?define("mustache",t):Mustache=t}(function(){function t(t,e){return RegExp.prototype.test.call(t,e)}function e(e){return!t(m,e)}function a(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t){return String(t).replace(/[&<>"'\/]/g,function(t){return x[t]})}function n(t){this.string=t,this.tail=t,this.pos=0}function o(t,e){this.view=t,this.parent=e,this.clearCache()}function s(){this.clearCache()}function r(t){for(var e,a=t[3],i=a;(e=t[4])&&e.length;)t=e[e.length-1],i=t[3];return[a,i]}function l(t){function e(t,e,i){if(!a[t]){var n=l(e);a[t]=function(t,e){return n(t,e,i)}}return a[t]}var a={};return function(a,i,n){for(var o,s,l="",c=0,d=t.length;d>c;++c)switch(o=t[c],o[0]){case"#":s=n.slice.apply(n,r(o)),l+=a._section(o[1],i,s,e(c,o[4],n));break;case"^":l+=a._inverted(o[1],i,e(c,o[4],n));break;case">":l+=a._partial(o[1],i);break;case"&":l+=a._name(o[1],i);break;case"name":l+=a._escaped(o[1],i);break;case"text":l+=o[1]}return l}}function c(t){for(var e,a,i=[],n=i,o=[],s=0;s<t.length;++s)switch(e=t[s],e[0]){case"#":case"^":e[4]=[],o.push(e),n.push(e),n=e[4];break;case"/":if(0===o.length)throw new Error("Unopened section: "+e[1]);if(a=o.pop(),a[1]!==e[1])throw new Error("Unclosed section: "+a[1]);n=o.length>0?o[o.length-1][4]:i;break;default:n.push(e)}if(a=o.pop())throw new Error("Unclosed section: "+a[1]);return i}function d(t){for(var e,a,i=0;i<t.length;++i)e=t[i],a&&"text"===a[0]&&"text"===e[0]?(a[1]+=e[1],a[3]=e[3],t.splice(i--,1)):a=e}function u(t){if(2!==t.length)throw new Error("Invalid tags: "+t.join(" "));return[new RegExp(a(t[0])+"\\s*"),new RegExp("\\s*"+a(t[1]))]}var h={};h.name="mustache.js",h.version="0.7.0",h.tags=["{{","}}"],h.Scanner=n,h.Context=o,h.Writer=s;var p=/\s*/,f=/\s+/,m=/\S/,b=/\s*=/,v=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/,y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};h.escape=i,n.prototype.eos=function(){return""===this.tail},n.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},n.prototype.scanUntil=function(t){var e,a=this.tail.search(t);switch(a){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,a),this.tail=this.tail.substring(a),this.pos+=a}return e},o.make=function(t){return t instanceof o?t:new o(t)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(t){return new o(t,this)},o.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."===t)e=this.view;else for(var a=this;a;){if(t.indexOf(".")>0){var i=t.split("."),n=0;for(e=a.view;e&&n<i.length;)e=e[i[n++]]}else e=a.view[t];if(null!=e)break;a=a.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(t,e){var a=this._cache[t];if(!a){var i=h.parse(t,e);a=this._cache[t]=this.compileTokens(i,t)}return a},s.prototype.compilePartial=function(t,e,a){var i=this.compile(e,a);return this._partialCache[t]=i,i},s.prototype.compileTokens=function(t,e){var a=l(t),i=this;return function(t,n){if(n)if("function"==typeof n)i._loadPartial=n;else for(var s in n)i.compilePartial(s,n[s]);return a(i,o.make(t),e)}},s.prototype.render=function(t,e,a){return this.compile(t)(e,a)},s.prototype._section=function(t,e,a,i){var n=e.lookup(t);switch(typeof n){case"object":if(y(n)){for(var o="",s=0,r=n.length;r>s;++s)o+=i(this,e.push(n[s]));return o}return n?i(this,e.push(n)):"";case"function":var l=this,c=function(t){return l.render(t,e)};return n.call(e.view,a,c)||"";default:if(n)return i(this,e)}return""},s.prototype._inverted=function(t,e,a){var i=e.lookup(t);return!i||y(i)&&0===i.length?a(this,e):""},s.prototype._partial=function(t,e){t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t));var a=this._partialCache[t];return a?a(e):""},s.prototype._name=function(t,e){var a=e.lookup(t);return"function"==typeof a&&(a=a.call(e.view)),null==a?"":String(a)},s.prototype._escaped=function(t,e){return h.escape(this._name(t,e))},h.parse=function(t,i){function o(){if(_&&!T)for(;k.length;)w.splice(k.pop(),1);else k=[];_=!1,T=!1}i=i||h.tags;for(var s,r,l,m,y=u(i),x=new n(t),w=[],k=[],_=!1,T=!1;!x.eos();){if(s=x.pos,l=x.scanUntil(y[0]))for(var I=0,C=l.length;C>I;++I)m=l.charAt(I),e(m)?k.push(w.length):T=!0,w.push(["text",m,s,s+1]),s+=1,"\n"===m&&o();if(s=x.pos,!x.scan(y[0]))break;if(_=!0,r=x.scan(g)||"name",x.scan(p),"="===r)l=x.scanUntil(b),x.scan(b),x.scanUntil(y[1]);else if("{"===r){var S=new RegExp("\\s*"+a("}"+i[1]));l=x.scanUntil(S),x.scan(v),x.scanUntil(y[1]),r="&"}else l=x.scanUntil(y[1]);if(!x.scan(y[1]))throw new Error("Unclosed tag at "+x.pos);w.push([r,l,s,x.pos]),("name"===r||"{"===r||"&"===r)&&(T=!0),"="===r&&(i=l.split(f),y=u(i))}return d(w),c(w)};var w=new s;return h.clearCache=function(){return w.clearCache()},h.compile=function(t,e){return w.compile(t,e)},h.compilePartial=function(t,e,a){return w.compilePartial(t,e,a)},h.compileTokens=function(t,e){return w.compileTokens(t,e)},h.render=function(t,e,a){return w.render(t,e,a)},h.to_html=function(t,e,a,i){var n=h.render(t,e,a);return"function"!=typeof i?n:void i(n)},h}()),define("paging",["ajax","mustache","jquery"],function(t,e){var a={paging:"paging",pagingTemplate:"paging_template",callbacks:{fireLoad:null}},i=function(t){this.opts=$.extend({},a,t),this.init(t)};return i.prototype={init:function(){var t=this;t.buildDom(),t.bindEvent()},buildDom:function(){var t=this;t.$paging=$("#"+t.opts.paging),t.template=$("#"+t.opts.pagingTemplate).html(),t.curIdx=1,t.pageCount=0},bindEvent:function(){var t=this;t.$paging.on("click","ul>li>a",function(e){var a=$(this).attr("data-action");t.load($(this),a)}),t.$paging.on("click","[data-action='redirect_page']",function(e){t.redirectByNum()}),t.$paging.on("keyup","[data-field='page_num']",function(e){13==e.keyCode&&t.redirectByNum()}),t.$paging.on("focus blur","[data-field='page_num']",function(e){"focusin"===e.type?$.trim($(this).val())&&t.validateNum():$(this).popover("hide")})},render:function(t){var a,i=this,n=t.total,o=i.opts.limitList;if(pageCount=0,pageNums=[],n&&(pageCount=Math.floor(n/i.opts.limit),t.total%i.opts.limit>0&&(pageCount+=1)),o){var s=Math.floor(o/2),r=pageCount,l=1;for(s+i.curIdx<pageCount&&(r=s+i.curIdx),i.curIdx-s>1&&(l=i.curIdx-s);o-1>r-l;)if(r<pageCount)r++;else{if(!(r==pageCount&&l>1))break;l--}for(;r>=l;l++)pageNums.push({cls:i.curIdx==l?"active":"",idx:l})}t.PageCount=i.pageCount=pageCount,t.PageNums=pageNums,a=e.render(i.template,{Paging:t}),i.$paging.html(a)},load:function(t,e){var a=this,i=a.curIdx;if("prev"===e){if(i--,1>i)return}else if("next"===e){if(i++,i>a.pageCount)return}else"paging"===e&&(i=parseInt(t.html()));a.curIdx=i,a.fireLoad()},reload:function(t){var e=this;e.curIdx=parseInt(t)||1,e.fireLoad()},fireLoad:function(){var t=this;"function"===$.type(t.opts.callbacks.fireLoad)&&t.opts.callbacks.fireLoad.call(t,{limit:t.opts.limit,pageIndex:t.curIdx})},redirectByNum:function(){var t=this,e=t.validateNum();e.flag&&t.reload(e.curIdx)},validateNum:function(){var t=this,e=t.$paging.find("[data-field='page_num']"),a=$.trim(e.val()),i=!0;return a&&/^[1-9][0-9]*$/.test(a)?t.pageCount&&(1>a||a>t.pageCount)&&(i=!1):i=!1,!i&&e.popover("show"),{flag:i,curIdx:a}}},i}),function(){"use strict";function t(t){function e(e,i){var o,b,v=e==window,g=i&&void 0!==i.message?i.message:void 0;if(i=t.extend({},t.blockUI.defaults,i||{}),!i.ignoreIfBlocked||!t(e).data("blockUI.isBlocked")){if(i.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,i.overlayCSS||{}),o=t.extend({},t.blockUI.defaults.css,i.css||{}),i.onOverlayClick&&(i.overlayCSS.cursor="pointer"),b=t.extend({},t.blockUI.defaults.themedCSS,i.themedCSS||{}),g=void 0===g?i.message:g,v&&f&&a(window,{fadeOut:0}),g&&"string"!=typeof g&&(g.parentNode||g.jquery)){var y=g.jquery?g[0]:g,x={};t(e).data("blockUI.history",x),x.el=y,x.parent=y.parentNode,x.display=y.style.display,x.position=y.style.position,x.parent&&x.parent.removeChild(y)}t(e).data("blockUI.onUnblock",i.onUnblock);var w,k,_,T,I=i.baseZ;w=t(u||i.forceIframe?'<iframe class="blockUI" style="z-index:'+I++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+i.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),k=t(i.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+I++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+I++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),i.theme&&v?(T='<div class="blockUI '+i.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(I+10)+';display:none;position:fixed">',i.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):i.theme?(T='<div class="blockUI '+i.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(I+10)+';display:none;position:absolute">',i.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):T=v?'<div class="blockUI '+i.blockMsgClass+' blockPage" style="z-index:'+(I+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+i.blockMsgClass+' blockElement" style="z-index:'+(I+10)+';display:none;position:absolute"></div>',_=t(T),g&&(i.theme?(_.css(b),_.addClass("ui-widget-content")):_.css(o)),i.theme||k.css(i.overlayCSS),k.css("position",v?"fixed":"absolute"),(u||i.forceIframe)&&w.css("opacity",0);var C=[w,k,_],S=t(v?"body":e);t.each(C,function(){this.appendTo(S)}),i.theme&&i.draggable&&t.fn.draggable&&_.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var A=p&&(!t.support.boxModel||t("object,embed",v?null:e).length>0);if(h||A){if(v&&i.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(h||!t.support.boxModel)&&!v)var E=l(e,"borderTopWidth"),$=l(e,"borderLeftWidth"),U=E?"(0 - "+E+")":0,D=$?"(0 - "+$+")":0;t.each(C,function(t,e){var a=e[0].style;if(a.position="absolute",2>t)v?a.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+i.quirksmodeOffsetHack+') + "px"'):a.setExpression("height",'this.parentNode.offsetHeight + "px"'),v?a.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):a.setExpression("width",'this.parentNode.offsetWidth + "px"'),D&&a.setExpression("left",D),U&&a.setExpression("top",U);else if(i.centerY)v&&a.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),a.marginTop=0;else if(!i.centerY&&v){var n=i.css&&i.css.top?parseInt(i.css.top,10):0,o="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+n+') + "px"';a.setExpression("top",o)}})}if(g&&(i.theme?_.find(".ui-widget-content").append(g):_.append(g),(g.jquery||g.nodeType)&&t(g).show()),(u||i.forceIframe)&&i.showOverlay&&w.show(),i.fadeIn){var j=i.onBlock?i.onBlock:d,M=i.showOverlay&&!g?j:d,P=g?j:d;i.showOverlay&&k._fadeIn(i.fadeIn,M),g&&_._fadeIn(i.fadeIn,P)}else i.showOverlay&&k.show(),g&&_.show(),i.onBlock&&i.onBlock();if(n(1,e,i),v?(f=_[0],m=t(i.focusableElements,f),i.focusInput&&setTimeout(s,20)):r(_[0],i.centerX,i.centerY),i.timeout){var L=setTimeout(function(){v?t.unblockUI(i):t(e).unblock(i)},i.timeout);t(e).data("blockUI.timeout",L)}if(g&&"string"!=typeof g&&(g.parentNode||g.jquery)){var N=!0,O=t._data(g[0],"events");t(window).resize(function(){t(document).off("mouseleave.move")}),(!O||!O.mousedown)&&g.mousedown(function(e){var a=t(e.target),i=t._data(e.target,"events");if(t.isEmptyObject(i)||!i.click){t("div[id^='ui-datepicker']").hide();var n=a.closest("[data-action='drag']").size();a.prop("tagName");n&&(c(e,this),N=!0,e.preventDefault(),e.stopPropagation())}}),g.find("div,table,ul,span").scroll(function(e){N&&t(document).off("mousemove.move mouseup.move"),N=!1,e.preventDefault()})}}}function a(e,a){var o,s=e==window,r=t(e),l=r.data("blockUI.history"),c=r.data("blockUI.timeout");c&&(clearTimeout(c),r.removeData("blockUI.timeout")),a=t.extend({},t.blockUI.defaults,a||{}),n(0,e,a),null===a.onUnblock&&(a.onUnblock=r.data("blockUI.onUnblock"),r.removeData("blockUI.onUnblock"));var d;d=s?t("body").children().filter(".blockUI").add("body > .blockUI"):r.find(">.blockUI"),a.cursorReset&&(d.length>1&&(d[1].style.cursor=a.cursorReset),d.length>2&&(d[2].style.cursor=a.cursorReset)),s&&(f=m=null),a.fadeOut?(o=d.length,d.stop().fadeOut(a.fadeOut,function(){0===--o&&i(d,l,a,e)})):i(d,l,a,e)}function i(e,a,i,n){var o=t(n);if(!o.data("blockUI.isBlocked")){e.each(function(t,e){this.parentNode&&this.parentNode.removeChild(this)}),a&&a.el&&(a.el.style.display=a.display,a.el.style.position=a.position,a.parent&&a.parent.appendChild(a.el),o.removeData("blockUI.history")),o.data("blockUI.static")&&o.css("position","static"),"function"==typeof i.onUnblock&&i.onUnblock(n,i);var s=t(document.body),r=s.width(),l=s[0].style.width;s.width(r-1).width(r),s[0].style.width=l}}function n(e,a,i){var n=a==window,s=t(a);if((e||(!n||f)&&(n||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",e),n&&i.bindEvents&&(!e||i.showOverlay))){var r="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(r,i,o):t(document).unbind(r,o)}}function o(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&f&&e.data.constrainTabKey){var a=m,i=!e.shiftKey&&e.target===a[a.length-1],n=e.shiftKey&&e.target===a[0];if(i||n)return setTimeout(function(){s(n)},10),!1}var o=e.data,r=t(e.target);return r.hasClass("blockOverlay")&&o.onOverlayClick&&o.onOverlayClick(e),r.parents("div."+o.blockMsgClass).length>0?!0:0===r.parents().children().filter("div.blockUI").length}function s(t){if(m){var e=m[t===!0?m.length-1:0];e&&e.focus()}}function r(t,e,a){var i=t.parentNode,n=t.style,o=(i.offsetWidth-t.offsetWidth)/2-l(i,"borderLeftWidth"),s=(i.offsetHeight-t.offsetHeight)/2-l(i,"borderTopWidth");e&&(n.left=o>0?o+"px":"0"),a&&(n.top=s>0?s+"px":"0")}function l(e,a){return parseInt(t.css(e,a),10)||0}function c(e,a){var i=t(a).parents(".blockUI").eq(0),n=t(window).height(),o=t(window).width(),s=i.children("div").first().width(),r=i.children("div").first().height(),l=n-r,c=o-s,d=e.pageX,u=e.pageY,h=i.offset().left,p=i.offset().top,f=t(document).scrollLeft(),m=t(document).scrollTop(),b=t("<div></div>"),v=h-f,g=p-m,y=0,x=0,w=5,k=5,_=i.parents(".blockUI").eq(0),T=_.size();b.appendTo("body").css({backgroundColor:"#F1F1F1","border-radius":"4px",position:"fixed",cursor:"move",width:s,height:r,top:g,left:v,opacity:"0.5",zIndex:"9999"}),i.css({top:99999,left:99999}),T&&(o=_.width(),n=_.height(),h-=_.offset().left,p-=_.offset().top,y=_.offset().left-f,x=_.offset().top-m,v=h,g=p,l=n-r,c=o-s),t(document).on({"mousemove.move":function(t){var e=h+t.pageX-d+y,a=p+t.pageY-u+x;T||(e-=f,a-=m),y>=e?e=y+k:s>o-e+y&&(e=c+y-k),x>a?a=x+w:r>n-a+x&&(a=l+x-w?l+x-w:w),b.css({left:e+"px",top:a+"px"}),v=T?e-y:e,g=T?a-x:a,t.preventDefault(),t.stopPropagation()},"mouseup.move":function(e){b.remove(),i.css({left:v+"px",top:g+"px"}),t(document).off("mousemove.move mouseup.move"),e.preventDefault(),e.stopPropagation()},"mouseleave.move":function(e){b.remove(),i.css({left:v+"px",top:g+"px"}),t(document).off("mousemove.move mouseup.move"),e.preventDefault(),e.stopPropagation()}})}t.fn._fadeIn=t.fn.fadeIn;var d=t.noop||function(){},u=/MSIE/.test(navigator.userAgent),h=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),p=(document.documentMode||0,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){e(window,t)},t.unblockUI=function(t){a(window,t)},t.growlUI=function(e,a,i,n){var o=t('<div class="growlUI"></div>');e&&o.append("<h1>"+e+"</h1>"),a&&o.append("<h2>"+a+"</h2>"),void 0===i&&(i=3e3);var s=function(e){e=e||{},t.blockUI({message:o,fadeIn:"undefined"!=typeof e.fadeIn?e.fadeIn:700,fadeOut:"undefined"!=typeof e.fadeOut?e.fadeOut:1e3,timeout:"undefined"!=typeof e.timeout?e.timeout:i,centerY:!1,showOverlay:!1,onUnblock:n,css:t.blockUI.defaults.growlCSS})};s();o.css("opacity");o.mouseover(function(){s({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(a){if(this[0]===window)return t.blockUI(a),this;var i=t.extend({},t.blockUI.defaults,a||{});return this.each(function(){var e=t(this);i.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,e(this,a)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){a(this,e)})},t.blockUI.version=2.66,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"default"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.2,cursor:"default"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.5,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var f=null,m=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define("blockUI",["jquery"],t):t(jQuery)}(),function(t){t.fn.extend({realVal:function(){var t=(this.attr("type")||"").toUpperCase(),e=this.prop("tagName").toUpperCase();return"INPUT"!==e||"CHECKBOX"!==t&&"RADIO"!==t?this.attr("data-value")?this.attr("data-value"):this.val():this.prop("checked")},getVal:function(){var t,e=this.prop("tagName").toUpperCase();if("SELECT"===e)return this.val();if("SPAN"===e||"LABEL"===e)return this.text();if("INPUT"===e){if(t=this.attr("type").toUpperCase(),"TEXT"===t||"HIDDEN"===t)return this.val();if("CHECKBOX"===t||"RADIO"===t)return this.prop("checked")}return"TEXTAREA"===e?this.val():void 0},setVal:function(e){var a,i=this.prop("tagName").toUpperCase();if("SELECT"===i&&this.val(e),("SPAN"===i||"LABEL"===i)&&this.text(e),"INPUT"===i){if(a=this.attr("type").toUpperCase(),"TEXT"===a||"HIDDEN"===a)return this.val(e);"CHECKBOX"===a&&t.inArray(parseInt(this.val()),e)>-1&&this.attr("checked",!0)}return"TEXTAREA"===i?this.val(e):void 0},clearVal:function(){var t,e=this.prop("tagName").toUpperCase();if("SELECT"===e&&(this.get(0).selectedIndex=0),("SPAN"===e||"LABEL"===e)&&this.text(""),"INPUT"===e){if(t=this.attr("type").toUpperCase(),"TEXT"===t||"HIDDEN"===t)return this.val("");("CHECKBOX"===t||"RADIO"===t)&&this.attr("checked",!1)}return"TEXTAREA"===e?this.val(""):void 0},building:function(e){var a,i,n=this,o={};o[e.text]="text",o[e.value]="value",n.on("change",function(){a=t(this).getVal(),i=t.mappingJSON(e.data[a]||[],o,[]),e.el.bindSelectOption(i),"function"==typeof e.changed&&e.changed.apply(this,[a])})},bindSelectOption:function(e){var a=this;return a.find("option").remove(),t.each(e,function(e,i){t("<option/>").appendTo(a).prop({text:i.text,value:i.value})}),a.get(0).selectedIndex=0,this},loadAppointScope:function(e){this.find("input,select,a,span,div,textarea,img").each(function(a,i){var n,o=t(i).attr("data-field");if(void 0!=o){var s=i.tagName.toUpperCase();if("INPUT"==s)switch(n=t(i).attr("type")){case"text":t(i).val(e[o]);break;case"checkbox":t(i).prop("checked",e[o]);break;case"hidden":t(i).val(e[o])}else"SELECT"==s?t(i).val(e[o]):"A"==s?t(i).text(e[o]):"DIV"==s||"SPAN"==i.tagName?t(i).html(e[o]):"TEXTAREA"==s?t(i).text(e[o]):"IMG"==s&&t(i).attr("src",e[o])}})},selectedAllAppointScope:function(){var e={};return this.find("input,select,a,span,div,textarea,img").each(function(a,i){var n,o=t(i),s=t(i).attr("data-field");if(void 0!=s){var r=o.html(),l=o.val();"true"==r&&(r=!0),"false"==r&&(r=!1),"true"==l&&(l=!0),"false"==l&&(l=!1);var c=i.tagName.toUpperCase();if("INPUT"==c)switch(n=o.attr("type")){case"text":e[s]=l;break;case"checkbox":e[s]=o.is(":checked");break;case"hidden":e[s]=l}else"SELECT"==c?0==o.val().length?e[s]="":e[s]=l:"A"==c?e[s]=r:"DIV"==c||"SPAN"==c?e[s]=r:"TEXTAREA"==c?e[s]=l||o.text():"IMG"==c&&(e[s]=o.attr("src"))}}),e},clearAllAppointScope:function(){return this.find("input,select,a,span,div,textarea,img").each(function(e,a){var i,n=t(a),o=n.attr("data-field");if(void 0!=o){var s=a.tagName.toUpperCase();if("INPUT"==s)switch(i=n.attr("type")){case"text":case"hidden":n.val("");break;case"checkbox":n.prop("checked",!1);break;default:n.val("")}else"SELECT"==s?n.val(""):"DIV"==s?n.html(""):"SPAN"==s?n.html(""):"TEXTAREA"==s?n.text("").val(""):"IMG"==s&&n.attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==")}})},adaptive:function(e){return this.each?this.each(function(a,i){var n=t(i),o=new Image,s=n.parent().width()||n.width(),r=n.parent().height()||n.height();o.src=n.attr("src"),t(o).load(function(){var a=o.width,l=o.height,c=s/a,d=r/l,u=1;if(e.isAdaptive){if(0==s&&0==r?u=1:0==s?1>d&&(u=d):0==r?1>c&&(u=c):(1>c||1>d)&&(u=d>=c?c:d),1>u&&(a*=u,l*=u),t(i).width(a||s),t(i).height(l||r),t(i).parent()){var h=(t(i).parent().width()-t(i).width())/2,p=(t(i).parent().height()-t(i).height())/2;"static"==t(i).css("position")?t(i).css({marginLeft:h,marginTop:p}):t(i).css({left:h,top:p})}"function"==typeof e.callback.success&&e.callback.success.apply(this,[n])}}).error(function(){"function"==typeof e.callback.error&&e.callback.error.apply(this,[n])})}):void 0},initPlaceholder:function(e){var a={lfdistance:10};a=t.extend({},a,e),"placeholder"in document.createElement("input")||this.each(function(e,i){var n,o,s=t(this),r=s.attr("placeholder"),l=null;if(r){if(n=s.attr("id"),!n){var c=new Date;n="lbl_placeholder"+c.getSeconds()+c.getMilliseconds(),s.attr("id",n)}o=t("<label>",{html:s.val()?"":r,"for":n,css:{position:"absolute",left:s.position().left+a.lfdistance,top:s.position().top,height:s.outerHeight(!0),lineHeight:s.outerHeight(!0)+"px",color:"#C3C3C3",cursor:"text"}}).insertAfter(s),l=function(t){s.val()?o.html(""):o.html(r)},s.on("focus blur input keyup propertychange",l),l()}})},waterfall:function(e){var a,e=t.extend(!0,{isAdaptiveWidth:!0},e),i=this.outerWidth(!0),n=this.find(".col-for-rowpanel"),o=n.outerWidth(!0),s=Math.ceil(i/o),r=[];t.each(n,function(i){var n=t(this),l=i%s,c=n.outerHeight(!0);if(a=Math.floor(i/s),!e.isAdaptiveWidth&&n.css({width:o}),a){var d=Math.min.apply(r,r),u=r.indexOf(d);n.animate({top:d,left:o*u}),r[u]=d+c}else n.animate({top:"0",left:o*l}),r.push(c)});var l=r.sort(function(t,e){return e>t?t:-1});n.parent().css("height",l[0])}}),t.extend({mappingJSON:function(e,a,i){for(var n=0;n<e.length;n++){var o={},s=e[n];for(var r in s){var l=a[r]||r;"array"===t.type(s[r])&&s[r].length>0?(o[l]=[],this.mappingJSON(s[r],a,o[l])):o[l]=s[r]}i.push(o)}return i},escapeSpecialChars:function(t){return t.replace(/[\\]/g,"\\\\")},isInteger:function(t){return/^[1-9]*[1-9][0-9]*$/.test(t)},isFloat:function(t,e){e=e||"1";var a="^-?\\d+(\\.\\d{1,"+e+"})$";return new RegExp(a).test(t)},getParameterByName:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t+"=([^&#]*)",a=new RegExp(e),i=a.exec(window.location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))},downloadFileByUrl:function(e){var a="frameId_download_"+(new Date).getTime(),i=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",n=t('<iframe name="'+a+'" id="'+a+'" src="'+i+'" style="display:none;"></iframe>'),o='<form action="'+e+'" method="POST" target="'+a+'"></form>',s=t(o);t("body").append(n);var r=n.get(0).contentDocument||n.get(0).contentWindow.document;r.open();try{r.appendChild(s.get(0))}catch(l){o=r.createElement(o),r.appendChild(o)}r.close(),n.on("load",function(){alert("file download error"),n.remove()}),t(r).find("form").submit(),window.setTimeout(function(){n.remove()},2e3)},isExistScroll:function(e,a){var i=t("<div></div>"),n=e.outerWidth(!0)-e.find("table:first").outerWidth(!0),o=a.outerWidth(!0),s=(o-n)/o*100,r="100%",l="none";n?(r=s+"%",l="left",a.append(i.css({width:n,height:1,"float":l}))):a.find(i).remove(),a.find("table:first").css({width:r,"float":l})},redirectLink:function(e,a,i,n,o){var s=new RegExp("[?&]"+i+"=([^&]*)","i"),r=new RegExp("([?&])"+i+"=([^&]*)(&?)","i"),l=/\?/.test(e),n=n||",",c="";return void 0==a?e:(c="array"==t.type(a)?a.join(","):a,e=s.test(e)?e.replace(r,function(t,e,s,r){var l=s+n,d=e+i,u=function(){return"&"==e?r:r?"?":""};if(o){var h=c?d+"="+c+r:u();return h}if(","==n){for(var p=s.split(","),f=c.split(","),m="",b=0;b<p.length;b++){m=p[b];for(var v=0;v<f.length;v++)m==f[v]&&p.splice(b,1)}return s=p.join(","),l=s?s+n:"",c||c.length?d+"="+l+a+r:u()}return d+"="+a+r}):l?e+"&"+i+"="+c:e+"?"+i+"="+c)},moveBox:function(e){function a(e){var a;t(document).on({"mousemove.online":function(t){a=t.pageY-o,0>a&&(a=0),a>s&&(a=s),e.css("top",a)},"mouseup.online":function(){t(document).off(".online")}})}var i=t("#"+e);if(i.size()){var n=(i.width(),i.height()),o=0,s=t(window).height()-n;i.on("mousedown",function(e){o=e.pageY-t(this).offset().top,a(t(this)),e.preventDefault()})}},moveTips:function(e,a,i,n){function o(e,a,n){var o=t(e),s=o.position(),r=i.height()/2,c=o.offsetParent(),d=s.top-r+c.scrollTop(),u=s.left+o.width(),h=c.width(),p=i.outerWidth(!0);n&&n.isTitle?(d=d+o.height()+r,u=u-o.width()+50,l.hide(),i.addClass("move-tip-append")):(d+=o.height()/2,i.removeClass("move-tip-append"),l.show()),p>h-u&&(u=h-p),p>h&&i.width(h-50),i.animate({left:u,top:d},function(){n&&n.callback&&n.callback.afterStopMove&&n.callback.afterStopMove.apply(null,[o])}).show()}var s=null,r=null,l=i.find(".tip-arrow");e.on("mouseenter mouseleave",a,function(e){var a=e.type,l=this,c=e;t(l).removeProp("title").removeAttr("title"),"mouseenter"===a?(window.clearTimeout(r),t(l).append(i),s=window.setTimeout(function(){var e=t(l).attr("data-content");return e?(i.find("[data-field='content']").html(e),void o(l,c,n)):(window.clearTimeout(s),void i.hide())},500)):(window.clearTimeout(s),r=window.setTimeout(function(){i.hide()},800)),e.stopPropagation()}),i.on("mouseenter",function(t){window.clearTimeout(r),t.stopPropagation()})},messageAlert:function(e){var a=t("#modal_alert");a.modal({backdrop:"static"}).find("[data-field='tip_info']").html(e)},messageConfirm:function(e,a){var i=t("#modal_custom_confirm");i.modal({backdrop:"static"}).find("[data-field='tip_info']").html(e),i.find("[data-field='sure']").click(function(){("function"!=typeof a||a.call(i)!==!1)&&i.modal("hide")})},initBlockMsg:function(e){for(var a=t("<div class='loading'><p class='text-center'>Loading...</p></div>"),i=[],n=1;12>=n;n++){var o='<div class="loading-c-'+n+' loading-child"></div>';i.push(o)}return a.append(i.join("")),a},debounce:function(t,e,a){var i;return function(){var n=this,o=arguments,s=function(){i=null,a||t.call(n,o)},r=a&&!i;clearTimeout(i),i=setTimeout(s,e),r&&t.call(n,o)}},dataBase64Img:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",uniqueArr:function(t){var e,a=[],i=1,n=0;for(t.sort(function(t,e){return t-e});e=t[i];i++)e===t[i-1]&&(n=a.push(i));for(;n--;)t.splice(a[n],1)}})}(jQuery),function(t){function e(t){t=t.replace(/left|top/g,"0px"),t=t.replace(/center/g,"50%"),t=t.replace(/right|bottom/g,"100%"),t=t.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");var e=t.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(e[1],10),e[2],parseFloat(e[3],10),e[4]]}var a=t.css;t.css=function(t,e,i){if("background-position"===e&&(e="backgroundPosition"),"backgroundPosition"!==e||!t.currentStyle||t.currentStyle[e])return a.apply(this,arguments);var n=t.style;return!i&&n&&n[e]?n[e]:a(t,"backgroundPositionX",i)+" "+a(t,"backgroundPositionY",i)};var i=t.fn.animate;t.fn.animate=function(t){return"background-position"in t&&(t.backgroundPosition=t["background-position"],delete t["background-position"]),"backgroundPosition"in t&&(t.backgroundPosition="("+t.backgroundPosition+")"),i.apply(this,arguments)},t.fx.step.backgroundPosition=function(a){if(!a.bgPosReady){var i=t.css(a.elem,"backgroundPosition");i||(i="0px 0px"),i=e(i),a.start=[i[0],i[2]];var n=e(a.end);a.end=[n[0],n[2]],a.unit=[n[1],n[3]],a.bgPosReady=!0}var o=[];o[0]=(a.end[0]-a.start[0])*a.pos+a.start[0]+a.unit[0],o[1]=(a.end[1]-a.start[1])*a.pos+a.start[1]+a.unit[1],a.elem.style.backgroundPosition=o[0]+" "+o[1]}}(jQuery),window.console.prototype={log:function(t){console.log&&console.log(t)}},define("jqExtend",["jquery"],function(){}),define("grid",["paging","ajax","mustache","blockUI","jqExtend","jquery"],function(t,e,a){var i={gridPanel:"gridPanel",filter:"filterId",grid:"grid",gBody:"gridBodyId",template:"template",limitList:10,limit:10,callbacks:{beforeSend:null,beforeRender:null,afterRender:null,complete:null,operatorError:null,beforeModalShown:null,afterModalHidden:null},searchUrl:"",paging:"paging",pagingTemplate:"paging_template",urls:{read:"",update:"",destroy:"",create:""},operator:{addBtn:"user_add"},modalConfirm:"modal_confirm",modalAlert:"modal_alert"},n=function(t){this.opts=$.extend({},i,t),this.init()};return n.prototype={init:function(){var t=this;t.buildDom(),t.bindEvent(),t.initComponent()},buildDom:function(){var t=this;t.$gridPanel=$("#"+t.opts.gridPanel),t.$grid=$("#"+t.opts.grid),t.$filter=$("#"+t.opts.filter),t.$gBody=$("#"+t.opts.gBody),t.template=$("#"+t.opts.template).html(),t.$edit=$("#"+t.opts.edit),t.paging=null,t.createUser=t.$grid.attr("data-read-url")||t.opts.urls.create,t.updateUser=t.$grid.attr("data-update-url")||t.opts.urls.update,t.$addBtn=$("#"+t.opts.operator.addBtn),t.$modalConfirm=$("#"+t.opts.modalConfirm),
t.$modalAlert=$("#"+t.opts.modalAlert),t.$blockMsg=$.initBlockMsg(),t.data=[]},bindEvent:function(){var t=this;t.$filter.on("click","[data-action]",function(e){var a=$(this).attr("data-action");"search"===a?t.reload():"clear"===a&&t.$filter.loadAppointScope({})}),t.$filter.on("keyup","[data-field]",function(e){13===e.keyCode&&t.reload()}),t.$grid.on("click","[data-field='update'],[data-field='del']",function(){var e=$(this).attr("data-field"),a=$(this).closest("tr").attr("data-val");switch(a&&(a=JSON.parse(a)),e){case"update":t.$edit.prop("model",{name:"update",ids:a}).modal({backdrop:!0,keyboard:!0,show:!0});break;case"del":t.$modalConfirm.data("ids",a).modal({backdrop:"static"}).find("[data-field='tip_info']").html("Confirm delete the record?")}}),t.$grid.on("click","tbody tr",function(){t.toggleActive($(this))}),t.$edit.on("click","[data-field='save']",function(){t.save()}),t.$edit.on("shown.bs.modal",function(e){var a,i=$(this).prop("model");if("update"===i.name){if($.isEmptyObject(i.ids))return t.log("未设置更新参数！");console.log(i.ids),a=t.findDataByIds(i.ids),t.$edit.loadAppointScope(a)}"function"===$.type(t.opts.callbacks.beforeModalShown)&&t.opts.callbacks.beforeModalShown.call(t,t,i.name,a)}),t.$edit.on("hidden.bs.modal",function(){t.$edit.clearAllAppointScope(),"function"===$.type(t.opts.callbacks.afterModalHidden)&&t.opts.callbacks.afterModalHidden.call(t,t)}),t.$modalConfirm.on("click","[data-field='sure']",function(){t.destroy()}),t.$addBtn.on("click",function(){t.$edit.prop("model",{name:"create"}).modal("show")})},findDataByIds:function(t){for(var e,a,i=this,n=0,o=i.data.data,s=o.length;s>n;n++){a=!0;for(e in t)o[n][e]!=t[e]&&(a=!1);if(a)return o[n]}return{}},initComponent:function(){var e=this;e.paging=new t({paging:e.opts.paging,pagingTemplate:e.opts.pagingTemplate,limitList:e.opts.limitList,limit:e.opts.limit,callbacks:{fireLoad:$.proxy(e.proxyLoad,e)}})},load:function(){var t=this;t.paging.load()},proxyLoad:function(t){var a=this,i=a.getCondition();i=$.extend({},i,t||{}),e.invoke({url:a.opts.urls.read,data:i,beforeSend:function(){a.$gridPanel.block({css:{border:"none",width:50,height:50,background:"transparent"},message:a.$blockMsg}),"function"==typeof a.opts.callbacks.beforeSend&&a.opts.callbacks.beforeSend.call(a,i)},complete:function(){a.$gridPanel.unblock(),"function"==typeof a.opts.callbacks.complete&&a.opts.callbacks.complete.call(a)},success:function(t){a.render(t)},failed:function(t){alert(t.reason)}})},reload:function(t){var e=this;e.paging.reload(t)},render:function(t){var e,i=this;i.data=t,"function"==typeof i.opts.callbacks.beforeRender&&i.opts.callbacks.beforeRender.call(i,i.data),e=a.render(i.template,{Data:t.data}),i.$gBody.html(e),i.paging.render(t),i.afterRender()},afterRender:function(){var t=this;"function"==typeof t.opts.callbacks.afterRender&&t.opts.callbacks.afterRender.call(t,t.data)},save:function(){var t=this,e=t.$edit.prop("model");e&&t[e.name].call(t,t.$edit)},update:function(t){var a=this,i=t.selectedAllAppointScope();e.invoke({url:a.opts.urls.update,contentType:"application/json",data:JSON.stringify(i),success:function(t){t.msg?"function"===$.type(a.opts.callbacks.operatorError)&&a.opts.callbacks.operatorError.call(a,"update",t.msg):(a.load(),a.showTipSuccess("更新成功!"))},failed:function(t){alert(t.reason)}})},create:function(t){var a=this,i=t.selectedAllAppointScope();e.invoke({url:a.opts.urls.create,contentType:"application/json",data:JSON.stringify(i),success:function(t){t.msg?"function"===$.type(a.opts.callbacks.operatorError)&&a.opts.callbacks.operatorError.call(a,"create",t.msg):(a.load(),a.showTipSuccess("创建成功!"))},failed:function(t){alert(t.reason)}})},destroy:function(){var t=this,a=t.$modalConfirm.data("ids");$.isEmptyObject(a)||e.invoke({url:t.opts.urls.destroy,contentType:"application/json",data:JSON.stringify(a),success:function(e){e.msg?"function"===$.type(t.opts.callbacks.operatorError)&&t.opts.callbacks.operatorError.call(t,"destroy",e.msg):(t.load(),t.showTipSuccess("删除成功!"))},failed:function(t){alert(t.reason)}})},getCondition:function(){var t=this,e=t.$filter.selectedAllAppointScope();return e},showTipSuccess:function(t){var e=this;e.$modalConfirm.modal("hide"),e.$edit.modal("hide"),t&&e.$modalAlert.modal("show").find("[data-field='tip_info']").html(t)},toggleActive:function(t){t.siblings(".bg-active").removeClass("bg-active").end().addClass("bg-active")},log:function(t){window.console&&window.console.log&&window.console.log(t)}},n}),function(t){"use strict";"function"==typeof define&&define.amd?define("jqform",["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){function e(e){var a=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(a))}function a(e){var a=e.target,i=t(a);if(!i.is("[type=submit],[type=image]")){var n=i.closest("[type=submit]");if(0===n.length)return;a=n[0]}var o=this;if(o.clk=a,"image"==a.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var s=i.offset();o.clk_x=e.pageX-s.left,o.clk_y=e.pageY-s.top}else o.clk_x=e.pageX-a.offsetLeft,o.clk_y=e.pageY-a.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var n={};n.fileapi=void 0!==t("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var o=!!t.fn.prop;t.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function a(a){var i,n,o=t.param(a,e.traditional).split("&"),s=o.length,r=[];for(i=0;s>i;i++)o[i]=o[i].replace(/\+/g," "),n=o[i].split("="),r.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return r}function s(i){for(var n=new FormData,o=0;o<i.length;o++)n.append(i[o].name,i[o].value);if(e.extraData){var s=a(e.extraData);for(o=0;o<s.length;o++)s[o]&&n.append(s[o][0],s[o][1])}e.data=null;var r=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(r.xhr=function(){var a=t.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(t){var a=0,i=t.loaded||t.position,n=t.total;t.lengthComputable&&(a=Math.ceil(i/n*100)),e.uploadProgress(t,i,n,a)},!1),a}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(t,a){e.formData?a.data=e.formData:a.data=n,c&&c.call(this,t,a)},t.ajax(r)}function r(a){function n(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(a){i("cannot get iframe.contentWindow document: "+a)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(a){i("cannot get iframe.contentDocument: "+a),e=t.document}return e}function s(){function e(){try{var t=n(v).readyState;i("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(a){i("Server abort: ",a," (",a.name,")"),r(C),k&&clearTimeout(k),k=void 0}}var a=u.attr2("target"),o=u.attr2("action"),s="multipart/form-data",c=u.attr("enctype")||u.attr("encoding")||s;_.setAttribute("target",f),(!l||/post/i.test(l))&&_.setAttribute("method","POST"),o!=h.url&&_.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(k=setTimeout(function(){w=!0,r(I)},h.timeout));var d=[];try{if(h.extraData)for(var p in h.extraData)h.extraData.hasOwnProperty(p)&&(t.isPlainObject(h.extraData[p])&&h.extraData[p].hasOwnProperty("name")&&h.extraData[p].hasOwnProperty("value")?d.push(t('<input type="hidden" name="'+h.extraData[p].name+'">').val(h.extraData[p].value).appendTo(_)[0]):d.push(t('<input type="hidden" name="'+p+'">').val(h.extraData[p]).appendTo(_)[0]));h.iframeTarget||b.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(e,15);try{_.submit()}catch(m){var g=document.createElement("form").submit;g.apply(_)}}finally{_.setAttribute("action",o),_.setAttribute("enctype",c),a?_.setAttribute("target",a):u.removeAttr("target"),t(d).remove()}}function r(e){if(!g.aborted&&!U){if($=n(v),$||(i("cannot access response document"),e=C),e===I&&g)return g.abort("timeout"),void T.reject(g,"timeout");if(e==C&&g)return g.abort("server abort"),void T.reject(g,"error","server abort");if($&&$.location.href!=h.iframeSrc||w){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var a,o="success";try{if(w)throw"timeout";var s="xml"==h.dataType||$.XMLDocument||t.isXMLDoc($);if(i("isXml="+s),!s&&window.opera&&(null===$.body||!$.body.innerHTML)&&--D)return i("requeing onLoad callback, DOM not available"),void setTimeout(r,250);var l=$.body?$.body:$.documentElement;g.responseText=l?l.innerHTML:null,g.responseXML=$.XMLDocument?$.XMLDocument:$,s&&(h.dataType="xml"),g.getResponseHeader=function(t){var e={"content-type":h.dataType};return e[t.toLowerCase()]},l&&(g.status=Number(l.getAttribute("status"))||g.status,g.statusText=l.getAttribute("statusText")||g.statusText);var c=(h.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||h.textarea){var u=$.getElementsByTagName("textarea")[0];if(u)g.responseText=u.value,g.status=Number(u.getAttribute("status"))||g.status,g.statusText=u.getAttribute("statusText")||g.statusText;else if(d){var f=$.getElementsByTagName("pre")[0],m=$.getElementsByTagName("body")[0];f?g.responseText=f.textContent?f.textContent:f.innerText:m&&(g.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!g.responseXML&&g.responseText&&(g.responseXML=j(g.responseText));try{E=P(g,c,h)}catch(y){o="parsererror",g.error=a=y||o}}catch(y){i("error caught: ",y),o="error",g.error=a=y||o}g.aborted&&(i("upload aborted"),o=null),g.status&&(o=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===o?(h.success&&h.success.call(h.context,E,"success",g),T.resolve(g.responseText,"success",g),p&&t.event.trigger("ajaxSuccess",[g,h])):o&&(void 0===a&&(a=g.statusText),h.error&&h.error.call(h.context,g,o,a),T.reject(g,"error",a),p&&t.event.trigger("ajaxError",[g,h,a])),p&&t.event.trigger("ajaxComplete",[g,h]),p&&!--t.active&&t.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,g,o),U=!0,h.timeout&&clearTimeout(k),setTimeout(function(){h.iframeTarget?b.attr("src",h.iframeSrc):b.remove(),g.responseXML=null},100)}}}var c,d,h,p,f,b,v,g,y,x,w,k,_=u[0],T=t.Deferred();if(T.abort=function(t){g.abort(t)},a)for(d=0;d<m.length;d++)c=t(m[d]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(h=t.extend(!0,{},t.ajaxSettings,e),h.context=h.context||h,f="jqFormIO"+(new Date).getTime(),h.iframeTarget?(b=t(h.iframeTarget),x=b.attr2("name"),x?f=x:b.attr2("name",f)):(b=t('<iframe name="'+f+'" src="'+h.iframeSrc+'" />'),b.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=b[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var a="timeout"===e?"timeout":"aborted";i("aborting upload... "+a),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(n){}b.attr("src",h.iframeSrc),g.error=a,h.error&&h.error.call(h.context,g,a,e),p&&t.event.trigger("ajaxError",[g,h,a]),h.complete&&h.complete.call(h.context,g,a)}},p=h.global,p&&0===t.active++&&t.event.trigger("ajaxStart"),p&&t.event.trigger("ajaxSend",[g,h]),h.beforeSend&&h.beforeSend.call(h.context,g,h)===!1)return h.global&&t.active--,T.reject(),T;if(g.aborted)return T.reject(),T;y=_.clk,y&&(x=y.name,x&&!y.disabled&&(h.extraData=h.extraData||{},h.extraData[x]=y.value,"image"==y.type&&(h.extraData[x+".x"]=_.clk_x,h.extraData[x+".y"]=_.clk_y)));var I=1,C=2,S=t("meta[name=csrf-token]").attr("content"),A=t("meta[name=csrf-param]").attr("content");A&&S&&(h.extraData=h.extraData||{},h.extraData[A]=S),h.forceSync?s():setTimeout(s,10);var E,$,U,D=50,j=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},P=function(e,a,i){var n=e.getResponseHeader("content-type")||"",o="xml"===a||!a&&n.indexOf("xml")>=0,s=o?e.responseXML:e.responseText;return o&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,a)),"string"==typeof s&&("json"===a||!a&&n.indexOf("json")>=0?s=M(s):("script"===a||!a&&n.indexOf("javascript")>=0)&&t.globalEval(s)),s};return T}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),d="string"==typeof c?t.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:d,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var f,m=[],b=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,f=t.param(e.data,p)),e.beforeSubmit&&e.beforeSubmit(b,this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[b,this,e,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(b,p);f&&(v=v?v+"&"+f:f),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var g=[];if(e.resetForm&&g.push(function(){u.resetForm()}),e.clearForm&&g.push(function(){u.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};g.push(function(a){var i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](a).each(y,arguments)})}else e.success&&g.push(e.success);if(e.success=function(t,a,i){for(var n=e.context||this,o=0,s=g.length;s>o;o++)g[o].apply(n,[t,a,i||u,u])},e.error){var x=e.error;e.error=function(t,a,i){var n=e.context||this;x.apply(n,[t,a,i,u])}}if(e.complete){var w=e.complete;e.complete=function(t,a){var i=e.context||this;w.apply(i,[t,a,u])}}var k=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),_=k.length>0,T="multipart/form-data",I=u.attr("enctype")==T||u.attr("encoding")==T,C=n.fileapi&&n.formdata;i("fileAPI :"+C);var S,A=(_||I)&&!C;e.iframe!==!1&&(e.iframe||A)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){S=r(b)}):S=r(b):S=(_||I)&&C?s(b):t.ajax(e),u.removeData("jqxhr").data("jqxhr",S);for(var E=0;E<m.length;E++)m[E]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&t.isFunction(t.fn.on),!n.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!t.isReady&&o.s?(i("DOM not ready, queuing ajaxForm"),t(function(){t(o.s,o.c).ajaxForm(n)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return n.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,n,e).on("click.form-plugin",this.selector,n,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,e).bind("click.form-plugin",n,a)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,a){var i=[];if(0===this.length)return i;var o,s=this[0],r=this.attr("id"),l=e?s.getElementsByTagName("*"):s.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=t(l).get()),r&&(o=t(":input[form="+r+"]").get(),o.length&&(l=(l||[]).concat(o))),!l||!l.length)return i;var c,d,u,h,p,f,m;for(c=0,f=l.length;f>c;c++)if(p=l[c],u=p.name,u&&!p.disabled)if(e&&s.clk&&"image"==p.type)s.clk==p&&(i.push({name:u,value:t(p).val(),type:p.type}),i.push({name:u+".x",value:s.clk_x},{name:u+".y",value:s.clk_y}));else if(h=t.fieldValue(p,!0),h&&h.constructor==Array)for(a&&a.push(p),d=0,m=h.length;m>d;d++)i.push({name:u,value:h[d]});else if(n.fileapi&&"file"==p.type){a&&a.push(p);var b=p.files;if(b.length)for(d=0;d<b.length;d++)i.push({name:u,value:b[d],type:p.type});else i.push({name:u,value:"",type:p.type})}else null!==h&&"undefined"!=typeof h&&(a&&a.push(p),i.push({name:u,value:h,type:p.type,required:p.required}));if(!e&&s.clk){var v=t(s.clk),g=v[0];u=g.name,u&&!g.disabled&&"image"==g.type&&(i.push({name:u,value:v.val()}),i.push({name:u+".x",value:s.clk_x},{name:u+".y",value:s.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var a=[];return this.each(function(){var i=this.name;if(i){var n=t.fieldValue(this,e);if(n&&n.constructor==Array)for(var o=0,s=n.length;s>o;o++)a.push({name:i,value:n[o]});else null!==n&&"undefined"!=typeof n&&a.push({name:this.name,value:n})}}),t.param(a)},t.fn.fieldValue=function(e){for(var a=[],i=0,n=this.length;n>i;i++){var o=this[i],s=t.fieldValue(o,e);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(a,s):a.push(s))}return a},t.fieldValue=function(e,a){var i=e.name,n=e.type,o=e.tagName.toLowerCase();if(void 0===a&&(a=!0),a&&(!i||e.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!e.checked||("submit"==n||"image"==n)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var s=e.selectedIndex;if(0>s)return null;for(var r=[],l=e.options,c="select-one"==n,d=c?s+1:l.length,u=c?s:0;d>u;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;r.push(p)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,n=this.tagName.toLowerCase();a.test(i)||"textarea"==n?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(i)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var a=this.type;if("checkbox"==a||"radio"==a)this.checked=e;else if("option"==this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),Fader=function(t){this.element=t.element,this.elementID=t.elementID,this.style=t.style,this.num=t.num,this.maxMove=t.maxMove,this.finishNum="string",this.interval=t.interval||10,this.step=t.step||20,this.onFinish=t.onFinish,this.isFinish=!1,this.timer=null,this.method=this.num>=0,this.c=this.elementID?$("#"+this.elementID):this.element,this.run=function(){if(clearInterval(this.timer),this.fade(),this.isFinish)this.onFinish&&this.onFinish();else{var t=this;this.timer=setInterval(function(){t.run()},this.interval)}},this.fade=function(){"string"==this.finishNum&&(this.finishNum=(parseInt(this.c.css(this.style))||0)+this.num);var t=parseInt(this.c.css(this.style))||0;this.finishNum>t&&this.method?(t+=this.step,t>=0&&(this.finishNum=t=0)):this.finishNum<t&&!this.method&&(t-=this.step,-1*t>=this.maxMove&&(this.finishNum=t=-1*this.maxMove)),this.finishNum<=t&&this.method||this.finishNum>=t&&!this.method?(this.c.css(this.style,this.finishNum+"px"),this.isFinish=!0,this.finishNum="string"):this.c.css(this.style,t+"px")}},define("fader",function(){}),TabPanel=function(t){this.renderTo=t.renderTo||$(document.body),this.border=t.border,this.render="string"==typeof this.renderTo?$("#"+this.renderTo):this.renderTo,this.widthResizable=t.widthResizable,this.heightResizable=t.heightResizable,this.autoResizable=t.autoResizable?!0:!1,this.width=t.width||"100%",this.height=t.height||"100%",this.items=t.items,this.active=t.active||0,this.tabs=[],this.scrolled=!1,this.tabWidth=135,this.fixNum=2,this.scrollFinish=!0,this.maxLength=t.maxLength||-1,this.maxzindex=0,this.callbacks=t.callbacks||{},this.init()},TabPanel.prototype={init:function(){var t=this;this.autoResizable&&(this.widthResizable=this.heightResizable=!0,this.render.css("overflow","hidden"),$(window).resize(function(){window.setTimeout(function(){t.resize()},200)})),this.render.width(this.width),this.render.height(this.height);var e="none"!=this.border?2:0;this.tabpanel=$("<DIV></DIV>"),this.tabpanel.addClass("tabpanel"),this.tabpanel.width(this.render.width()-e),this.tabpanel.height(this.render.height()-e),this.render.append(this.tabpanel),this.tabpanel_tab_content=$("<DIV></DIV>"),this.tabpanel_tab_content.addClass("tabpanel_tab_content"),this.tabpanel_tab_content.appendTo(this.tabpanel),this.tabpanel_left_scroll=$("<DIV></DIV>"),this.tabpanel_left_scroll.bind("click",function(){t.moveLeft()}),this.tabpanel_left_scroll.addClass("tabpanel_left_scroll"),this.tabpanel_left_scroll.addClass("display_none"),this.tabpanel_left_scroll.bind("mouseover",function(){var t=$(this);t.addClass("tabpanel_scroll_over"),t.bind("mouseout",function(){t.unbind("mouseout"),t.removeClass("tabpanel_scroll_over")})}),this.tabpanel_left_scroll.appendTo(this.tabpanel_tab_content),this.tabpanel_right_scroll=$("<DIV></DIV>"),this.tabpanel_right_scroll.bind("click",function(){t.moveRight()}),this.tabpanel_right_scroll.addClass("tabpanel_right_scroll"),this.tabpanel_right_scroll.addClass("display_none"),this.tabpanel_right_scroll.bind("mouseover",function(){var t=$(this);t.addClass("tabpanel_scroll_over"),t.bind("mouseout",function(){t.unbind("mouseout"),t.removeClass("tabpanel_scroll_over")})}),this.tabpanel_right_scroll.appendTo(this.tabpanel_tab_content),this.tabpanel_move_content=$("<DIV></DIV>"),this.tabpanel_move_content.addClass("tabpanel_move_content"),this.tabpanel_move_content.appendTo(this.tabpanel_tab_content),this.tabpanel_mover=$("<UL></UL>"),this.tabpanel_mover.addClass("tabpanel_mover"),this.tabpanel_mover.appendTo(this.tabpanel_move_content),this.tabpanel_tab_spacer=$("<DIV></DIV>"),this.tabpanel_tab_spacer.addClass("tabpanel_tab_spacer"),this.tabpanel_tab_spacer.appendTo(this.tabpanel_tab_content),this.tabpanel_content=$("<DIV></DIV>"),this.tabpanel_content.addClass("tabpanel_content"),this.tabpanel_content.appendTo(this.tabpanel);var a=this.tabpanel.width(),i=this.tabpanel.height();"none"==this.border&&this.tabpanel.css("border","none"),this.tabpanel_tab_content.width(a),this.tabpanel_content.width(a),this.tabpanel_content.height(i-this.tabpanel_tab_content.get(0).offsetHeight),this.update();for(var n=0;n<this.items.length;n++)this.items[n].notExecuteMoveSee=!0,this.addTab(this.items[n]);this.active>=0&&this.show(this.active,!1)},moveLeft:function(){this.scrollFinish&&(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:this.tabWidth,maxMove:this.maxMove,onFinish:this.useableScroll})),this.run())},moveRight:function(){this.scrollFinish&&(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:-1*this.tabWidth,maxMove:this.maxMove,onFinish:this.useableScroll})),this.run())},moveToLeft:function(){if(this.scrolled&&this.scrollFinish){this.disableScroll(),this.scrollFinish=!1;var t=-1*parseInt(this.tabpanel_mover.css("marginLeft"));Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:t,maxMove:this.maxMove,interval:20,step:10>t/10?10:t/10,onFinish:this.useableScroll})),this.run()}},moveToRight:function(){if(this.scrolled&&this.scrollFinish){this.disableScroll(),this.scrollFinish=!1;var t=-1*parseInt(this.tabpanel_mover.css("marginLeft")),e=this.tabpanel_mover.children().length*this.tabWidth,a=this.tabpanel_move_content.width(),i=-1*(e-a-t+this.fixNum);Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:i,maxMove:this.maxMove,step:10>-1*i/10?10:-1*i/10,onFinish:this.useableScroll})),this.run()}},moveToSee:function(t){if(this.scrolled){var e,a=this.tabWidth*t,i=parseInt(this.tabpanel_mover.css("marginLeft"));0>=i?(e=-1*(i+a),-1*(e+i)>=this.maxMove?this.moveToRight():(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:e,maxMove:this.maxMove,step:10>e/10?10:e/10,onFinish:this.useableScroll})),this.run())):(e=-1*(a-i),-1*e>=this.maxMove?this.moveToRight():(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:e,maxMove:this.maxMove,onFinish:this.useableScroll})),this.run()))}},disableScroll:function(){this.tabpanel_left_scroll.addClass("tabpanel_left_scroll_disabled"),this.tabpanel_left_scroll.attr("disabled",!0),this.tabpanel_right_scroll.addClass("tabpanel_right_scroll_disabled"),this.tabpanel_right_scroll.attr("disabled",!0)},useableScroll:function(){var t=this;this.scrolled&&(0==parseInt(t.tabpanel_mover.css("marginLeft"))?(t.tabpanel_left_scroll.addClass("tabpanel_left_scroll_disabled"),t.tabpanel_left_scroll.attr("disabled",!0),t.tabpanel_right_scroll.removeClass("tabpanel_right_scroll_disabled"),t.tabpanel_right_scroll.removeAttr("disabled")):-1*parseInt(t.tabpanel_mover.css("marginLeft"))==t.maxMove?(t.tabpanel_left_scroll.removeClass("tabpanel_left_scroll_disabled"),t.tabpanel_left_scroll.removeAttr("disabled",!0),t.tabpanel_right_scroll.addClass("tabpanel_right_scroll_disabled"),t.tabpanel_right_scroll.attr("disabled")):(t.tabpanel_left_scroll.removeClass("tabpanel_left_scroll_disabled"),t.tabpanel_left_scroll.removeAttr("disabled",!0),t.tabpanel_right_scroll.removeClass("tabpanel_right_scroll_disabled"),t.tabpanel_right_scroll.removeAttr("disabled"))),t.scrollFinish=!0},update:function(){var t=this.tabpanel_tab_content.width();this.scrolled&&(t-=this.tabpanel_left_scroll.width()+this.tabpanel_right_scroll.width()),this.tabpanel_move_content.width(t),this.maxMove=this.tabpanel_mover.children().length*this.tabWidth-t+this.fixNum},showScroll:function(){var t=this.tabpanel_mover.children().length*this.tabWidth,e=this.tabpanel_tab_content.width();t>e&&!this.scrolled?(this.tabpanel_move_content.addClass("tabpanel_move_content_scroll"),this.tabpanel_left_scroll.removeClass("display_none"),this.tabpanel_right_scroll.removeClass("display_none"),this.scrolled=!0):e>t&&this.scrolled&&(this.moveToLeft(),this.tabpanel_move_content.removeClass("tabpanel_move_content_scroll"),this.tabpanel_left_scroll.addClass("display_none"),this.tabpanel_right_scroll.addClass("display_none"),this.scrolled=!1,this.scrollFinish=!0)},addTab:function(t){if(-1!=this.maxLength&&this.maxLength<=this.tabs.length)return!1;if(t.id=t.id||Math.uuid(),$("#"+t.id).length>0)for(var e=0;e<this.tabs.length;e++){var a=this.tabs[e];if(a.id===t.id){this.show(e,!1);break}}else if(this.scrollFinish){var i=this,n=$("<LI></LI>");n.attr("id",t.id),n.appendTo(this.tabpanel_mover);var o=$("<DIV></DIV>");o.text(t.title),o.appendTo(n);var s=0==t.closable?0:10;t.icon?(o.addClass("icon_title"),o.css("background-image",'url("'+t.icon+'")'),o.width()>this.tabWidth-35-s&&(o.width(this.tabWidth-50-s),o.attr("title",t.title),n.append("<DIV>...</DIV>"))):(o.addClass("title").attr("title",t.title),o.width()>this.tabWidth-19-s&&(o.width(this.tabWidth-32-s),n.append("<DIV>...</DIV>")));var r=$("<DIV></DIV>");r.addClass("closer"),r.attr("title","Close tab"),r.appendTo(n);var l=$("<DIV></DIV>");l.addClass("html_content"),l.appendTo(this.tabpanel_content);var c=(l.find("iframe"),this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0]));0>c&&(c=0),this.tabs.length>c?t.preTabId=this.tabs[c].id:t.preTabId="",t.tab=n,t.title=o,t.closer=r,t.content=l,t.disable=void 0==t.disable?!1:t.disable,t.closable=void 0==t.closable?!0:t.closable,0==t.closable&&r.addClass("display_none"),1==t.disabled&&(n.attr("disabled",!0),o.addClass(".disabled")),this.tabs.push(t),n.bind("click",function(t){return function(){i.show(t,!1),i.callbacks.click&&i.callbacks.click.apply(null,[t])}}(this.tabs.length-1)),r.bind("click",function(t){return function(){i.kill(t)}}(this.tabs.length-1)),t.closable,t.lazyload||this.show(this.tabs.length-1,t.notExecuteMoveSee),this.showScroll(),this.update(),t.lazyload||t.notExecuteMoveSee||this.moveToRight()}},getTabPosision:function(t){if("string"==typeof t)for(var e=0;e<this.tabs.length;e++)if(t==this.tabs[e].id){t=e;break}return t},refresh:function(t){if(t=this.getTabPosision(t),"string"==typeof t)return!1;var e=this.tabs[t].content.find("iframe");if(e.length>0){var a=this.tabs[t].id+"Frame";this.iterateFlush(window.frames[a])}},iterateFlush:function(t){if(t.window.frames.length>0)for(var e=0;e<t.window.frames.length;e++)this.iterateFlush(t.window.frames[e]);else if(t.document.forms.length>0)for(var e=0;e<t.document.forms.length;e++)try{t.document.forms[e].submit()}catch(a){t.location.reload()}else t.location.reload()},show:function(t,e){return this.tabs.length<1?!1:(t=this.getTabPosision(t),"string"==typeof t&&(t=0),void(this.scrollFinish&&(t>=this.tabs.length&&(t=0),this.tabs[t].content.css("z-index",++this.maxzindex),this.tabs[t].tab.hasClass("active")?e||this.moveToSee(t):(""==this.tabs[t].content.html()&&this.tabs[t].content.html(this.tabs[t].html),this.tabpanel_mover.find(".active").removeClass("active"),this.tabs[t].tab.addClass("active"),e||this.moveToSee(t)))))},kill:function(t){var e=this;t=this.getTabPosision(t);var a=this.tabs[t].preTabId,i=this.tabs[t];this.tabs[t].closer.remove(),this.tabs[t].title.remove(),this.tabs[t].tab.remove(),this.tabs[t].content.remove(),this.tabs.splice(t,1);for(var n=0;n<this.tabs.length;n++)this.tabs[n].tab.unbind("click"),this.tabs[n].tab.bind("click",function(t){return function(){e.show(t,!1),e.callbacks.click&&e.callbacks.click.apply(null,[t])}}(n)),this.tabs[n].closer.unbind("click"),this.tabs[n].closer.bind("click",function(t){return function(){e.kill(t)}}(n)),this.tabs[n].closable&&(this.tabs[n].tab.unbind("dblclick"),this.tabs[n].tab.bind("dblclick",function(t){return function(){e.kill(t)}}(n)));this.update(),this.showScroll(),this.show(a,!1),"undefined"!=typeof i.closed&&i.closed(i)},getTabsCount:function(){return this.tabs.length},setTitle:function(t,e){t=this.getTabPosision(t),t<this.tabs.length&&this.tabs[t].title.text(e)},getTitle:function(t){return t=this.getTabPosision(t),this.tabs[t].title.text()},setContent:function(t,e){t=this.getTabPosision(t),t<this.tabs.length&&this.tabs[t].content.html(e)},getContent:function(t){return t=this.getTabPosision(t),this.tabs[t].content.html()},setDisable:function(t,e){t=this.getTabPosision(t),t<this.tabs.length&&(this.tabs[t].disable=e,e?(this.tabs[t].tab.attr("disabled",!0),this.tabs[t].title.addClass(".disabled")):(this.tabs[t].tab.removeAttr("disabled"),this.tabs[t].title.removeClass(".disabled")))},getDisable:function(t){return t=this.getTabPosision(t),this.tabs[t].disable},setClosable:function(t,e){t=this.getTabPosision(t),t<this.tabs.length&&(this.tabs[t].closable=e,e?this.tabs[t].closer.addClass("display_none"):(this.tabs[t].closer.addClass("closer"),this.tabs[t].closer.removeClass("display_none")));
},getClosable:function(t){return t=this.getTabPosision(t),this.tabs[t].closable},getActiveIndex:function(){return this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0])},getActiveTab:function(){var t=this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0]);return this.tabs.length>t?this.tabs[t]:null},resize:function(){var t="none"==this.border?0:2;this.widthResizable&&(this.width=this.render.width(),this.tabpanel.width(this.width-t),this.tabpanel_tab_content.width(this.width-t),this.tabpanel_content.width(this.width-t)),this.heightResizable&&(this.height=this.render.height(),this.tabpanel.height(this.height-t),this.tabpanel_content.height(this.height-this.tabpanel_tab_content.get(0).offsetHeight)),this.showScroll(),this.useableScroll(),this.update();var e=this;setTimeout(function(){e.moveToSee(e.getActiveIndex())},200)},setRenderWH:function(t){t&&(void 0!=t.width&&this.render.width(t.width),void 0!=t.height&&this.render.height(t.height),this.resize())}},define("tabPanel",function(){}),define("domReady",[],function(){"use strict";function t(t){var e;for(e=0;e<t.length;e+=1)t[e](c)}function e(){var e=d;l&&e.length&&(d=[],t(e))}function a(){l||(l=!0,s&&clearInterval(s),e())}function i(t){return l?t(c):d.push(t),i}var n,o,s,r="undefined"!=typeof window&&window.document,l=!r,c=r?document:null,d=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(window.attachEvent){window.attachEvent("onload",a),o=document.createElement("div");try{n=null===window.frameElement}catch(u){}o.doScroll&&n&&window.external&&(s=setInterval(function(){try{o.doScroll(),a()}catch(t){}},30))}"complete"===document.readyState&&a()}return i.version="2.0.1",i.load=function(t,e,a,n){n.isBuild?a(null):i(a)},i}),require(["ajax","globalConfig","mustache","grid","jqExtend","jqform","fader","tabPanel","blockUI","jquery","bootstrap","domReady!"],function(t,e,a,i){var n={init:function(){$("[data-toggle='popover']").popover(),$("[data-toggle='tooltip']").tooltip({placement:"bottom"})}},o=function(){this.init()};o.prototype={init:function(){var t=this;t.buildDom(),t.bindEvent(),t.initComponent()},buildDom:function(){var t=this;t.$email=$("#filters_scope").find("[data-field='email']"),t.$btnUpload=$("#gridpanel [data-action='upload']"),t.$globalSearch=$("#global_search")},bindEvent:function(){var t=this;t.$email.on("blur keyup propertychange",function(){$(this).popover("hide")}),t.$btnUpload.on({click:function(){$(this).val(""),console.log("click")},change:function(t){console.log($(this).val()),$("#uploadForm").ajaxSubmit({url:e.paths.upload,resetForm:!1,type:"POST",dataType:"json",iframe:!0,beforeSubmit:function(){return $.blockUI({css:{border:"none",left:"50%",width:50,height:50,background:"transparent"},message:$.initBlockMsg()}),!0},success:function(t){$.unblockUI(),$.messageAlert(t.msg+" : "+t.filename)}})}})},initComponent:function(){var t=this;t.grid=new i({gridPanel:"gridpanel",filter:"filters_scope",grid:"user_list",gBody:"tbody_user",template:"tbody_user_template",edit:"modal_edit",limitList:10,limit:5,callbacks:{beforeSend:null,beforeRender:null,afterRender:null,complete:null,afterModalHidden:function(){t.$email.popover("hide")},operatorError:function(e,a){switch(e){case"create":t.$email.attr("data-content",a).popover("show");break;case"update":break;case"destroy":}}},paging:"paging",pagingTemplate:"paging_template",urls:{read:e.paths.loadUser,create:e.paths.createUser,update:e.paths.updateUser,destroy:e.paths.delUserUrl},operator:{addBtn:"user_add"},modalConfirm:"modal_confirm",modalAlert:"modal_alert"}),t.grid.load()}},n.init(),new o}),define("app/user/main.js",function(){});