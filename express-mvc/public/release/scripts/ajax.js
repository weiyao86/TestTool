define("ajax",["globalConfig"],function(e){var t={zh_CN:{100:"未知错误",101:"被请求的页面需要用户名和密码",102:"请求未完成,服务器遇到不可预知的情况"},en_US:{100:"Unknown error",101:"The requested page needs a username and password",102:"The request was not completed, the server encounters unpredictable circumstances"}},a=t[e.context.lang||"zh_CN"],n={cache:!0,data:{},timeout:6e3,dataType:"json",type:"POST",contentType:"application/x-www-form-urlencoded",traditional:!1};return{invoke:function(e){var t=this,a=$.extend({},n,e||{}),r=$.ajax({url:a.url,contentType:a.contentType,type:a.type,cache:a.cache,data:a.data,timeout:a.timeout,dataType:a.dataType,beforeSend:a.beforeSend,complete:a.complete,traditional:a.traditional,success:function(e){t.success(a,e)},error:function(e){t.error(a,e)}});return r},success:function(e,t){var n=this,t=t||{};t.success||t.IsSuccess?"function"==typeof e.success&&e.success.apply(n,[t]):n.failed(e,t.msg||t.ErrorMessage||a[100])},error:function(e,t){var n=this,r=t.status+", "+t.statusText;switch(t.status){case 0:alert(r);break;case 401:alert(a[101]),location.href=location.href;break;case 500:alert(a[102]);break;default:"function"==typeof e.failed&&e.failed.apply(n,[{reason:r}])}},failed:function(e,t){var a=this;"function"==typeof e.failed&&e.failed.apply(a,[{reason:t}])}}});